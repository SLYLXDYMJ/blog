<!DOCTYPE html>
<html lang="zh-CN">
  




  <head hexo-theme='https://github.com/volantis-x/hexo-theme-volantis/tree/5.0.0.alpha.0'>
  <meta charset="utf-8">
  <!-- SEO相关 -->
  
    
  
  <!-- 渲染优化 -->
  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://cdn.jsdelivr.net'>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="preload" href="/blog/css/style.css" as="style">


  <!-- 页面元数据 -->
  
  <title>👽 学习 - Ionic - JASON BLOG</title>
  
    <meta name="keywords" content="typescript,angular,ionic">
  

  
    <meta name="description" content="吐槽：谁没事用 angular 啊！各个版本跨度大，上网找文档都费劲 😡，可是没办法，工作中需要，向生活低头 😔
不过 ionic 这个框架还是不错的，现在可以用 vue 和 react 进行开发，组件样式也很好看，但是不支持打包国内的小程序，跨端不如用 uni-app，更适合国人一些 😇">
  

  <!-- feed -->
  

  <!-- import meta -->
  

  <!-- link -->
  

  <!-- import link -->
  
  
  <link rel="icon" href="/blog/assets/images/favicon.ico">
  

  <style>
    /* 
      source/css/first.styl
      scripts/first-style/index.js
     */
    #safearea {
  display: none;
}
@supports (backdrop-filter: blur(20px)) {
  .blur {
    background: rgba(255,255,255,0.9) !important;
    backdrop-filter: saturate(200%) blur(20px);
  }
}
.shadow {
  box-shadow: 0 1px 2px 0px rgba(0,0,0,0.1);
}
.shadow.floatable {
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
}
.shadow.floatable:hover {
  box-shadow: 0 2px 4px 0px rgba(0,0,0,0.1), 0 4px 8px 0px rgba(0,0,0,0.1), 0 8px 16px 0px rgba(0,0,0,0.1);
}
@font-face {
  font-family: 'FZFWZhuZiAYuan';
  src: url("/blog/assets/fonts/FZFWZhuZiAYuanJD.OTF");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'sxls';
  src: url("/blog/assets/fonts/sxls.OTF");
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}
.new-meta-box,
.article-title,
.prev-next,
.meta-v3,
.md .footer .header,
.widget header,
details summary {
  font-family: sxls, "PingFang SC", "Microsoft YaHei", Helvetica, Arial, Helvetica, monospace;
}
:root {
  --site-bg: #f8f8f8;
  --block: #f2f2f2;
  --block-border: #e7e7e7;
  --block-hover: #ededed;
  --text-p0: #000;
  --text-p1: #222;
  --text-p2: #4c4c4c;
  --text-p3: #777;
  --text-meta: #cdcdcd;
  --card: #fff;
  --theme-highlight: #2fd3ae;
  --theme-bg: #ecfbf7;
}
body[theme='dark'] {
  --site-bg: #000;
  --block: #111;
  --block-border: #282828;
  --block-hover: #1c1c1c;
  --text-p0: #fff;
  --text-p1: #fff;
  --text-p2: #b2b2b2;
  --text-p3: #727272;
  --text-meta: #4c4c4c;
  --card: #333;
  --theme-highlight: #44d7b6;
  --theme-bg: #344340;
}
:root {
  --color-site-body: #f4f4f4;
  --color-site-bg: #f4f4f4;
  --color-site-inner: #fff;
  --color-site-footer: #666;
  --color-card: #fff;
  --color-text: #444;
  --color-block: #f6f6f6;
  --color-inlinecode: #c74f00;
  --color-codeblock: #fff7ea;
  --color-h1: #3a3a3a;
  --color-h2: #3a3a3a;
  --color-h3: #333;
  --color-h4: #444;
  --color-h5: #555;
  --color-h6: #666;
  --color-p: #444;
  --color-list: #666;
  --color-list-hl: #36ac91;
  --color-meta: #666;
}
* {
  box-sizing: border-box;
  outline: none;
  margin: 0;
  padding: 0;
}
html {
  color: var(--color-text);
  width: 100%;
  height: 100%;
  font-family: FZFWZhuZiAYuan, -apple-system, BlinkMacSystemFont, Helvetica Neue, PingFang SC, Microsoft YaHei, Source Han Sans SC, Noto Sans CJK SC, WenQuanYi Micro Hei, Menlo, Monaco, monospace, sans-serif;
  font-size: 16px;
}
html >::-webkit-scrollbar {
  height: 4px;
  width: 4px;
}
html >::-webkit-scrollbar-track-piece {
  background: transparent;
}
html >::-webkit-scrollbar-thumb {
  background: #44d7b6;
  cursor: pointer;
  border-radius: 2px;
}
html >::-webkit-scrollbar-thumb:hover {
  background: #23a386;
}
body {
  background-color: var(--color-site-body);
  text-rendering: optimizelegibility;
  -webkit-tap-highlight-color: rgba(0,0,0,0);
  line-height: 1.6;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}
body.modal-active {
  overflow: hidden;
}
@media screen and (max-width: 680px) {
  body.modal-active {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}
::-moz-selection {
  background: rgba(39,174,96,0.2);
}
::selection {
  background: rgba(39,174,96,0.2);
}
h1 {
  font-size: 1.5rem;
}
h2 {
  font-size: 1.5rem;
}
h3 {
  font-size: 1.25rem;
}
h4 {
  font-size: 1.125rem;
}
h5 {
  font-size: 1rem;
}
h6 {
  font-size: 1rem;
}
h1,
h2,
h3,
h4,
h6 {
  font-weight: normal;
}
a {
  color: #2196f3;
  cursor: pointer;
  text-decoration: none;
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
}
a:hover {
  color: #ff5722;
}
a:active,
a:hover {
  outline: 0;
}
a:not([href]) {
  cursor: default;
}
pre {
  tab-size: 4;
  -moz-tab-size: 4;
  -o-tab-size: 4;
  -webkit-tab-size: 4;
}
.clearfix {
  zoom: 1;
}
.clearfix:before,
.clearfix:after {
  content: " ";
  display: table;
}
.clearfix:after {
  clear: both;
}
.hidden {
  text-indent: -9999px;
  visibility: hidden;
  display: none;
}
.inner {
  position: relative;
  width: 80%;
  max-width: 710px;
  margin: 0 auto;
}
.vertical {
  display: table-cell;
  vertical-align: middle;
}
ul,
ol {
  padding-left: 0;
}
ul li,
ol li {
  list-style: none;
}
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
menu,
nav,
section,
summary {
  display: block;
}
article {
  overflow: hidden;
}
abbr[title] {
  border-bottom: 1px dotted;
}
b,
strong {
  font-weight: bold;
}
dfn {
  font-style: italic;
}
h1 {
  font-size: 2em;
  margin: 0.67em 0;
}
mark {
  background: #ff0;
  color: #000;
}
small {
  font-size: 80%;
}
sub,
sup {
  font-size: 50%;
  line-height: 1em;
}
sup {
  vertical-align: text-top;
}
sub {
  vertical-align: text-bottom;
}
img {
  border: 0;
  background: none;
  max-width: 100%;
}
svg:not(:root) {
  overflow: hidden;
}
figure {
  margin: 1em 40px;
}
hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
  border: 0;
  border-radius: 1px;
  border-bottom: 1px solid rgba(68,68,68,0.1);
}
pre {
  overflow: auto;
}
span.dot,
span.sep {
  font-size: 0.9em;
  margin: 0 0.2rem;
}
span.dot:before {
  content: '·';
}
span.sep:before {
  content: '/';
}
code,
kbd,
pre,
samp {
  font-family: monospace, monospace;
  font-size: 1em;
}
button,
input,
optgroup,
select,
textarea {
  color: inherit /* 1 */;
  font: inherit /* 2 */;
  margin: 0 /* 3 */;
}
button {
  overflow: visible;
}
button,
select {
  text-transform: none;
}
button,
html input[type="button"],
input[type="reset"],
input[type="submit"] {
  -webkit-appearance: button /* 2 */;
  cursor: pointer /* 3 */;
}
button[disabled],
html input[disabled] {
  cursor: default;
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0;
}
input[type="checkbox"],
input[type="radio"] {
  box-sizing: border-box /* 1 */;
  padding: 0 /* 2 */;
}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  height: auto;
}
input[type="search"] {
  -webkit-appearance: textfield /* 1 */;
  -moz-box-sizing: content-box;
  -webkit-box-sizing: content-box /* 2 */;
  box-sizing: content-box;
}
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}
fieldset {
  border: 1px solid #c0c0c0;
  margin: 0 2px;
  padding: 0.35em 0.625em 0.75em;
}
legend {
  border: 0 /* 1 */;
  padding: 0 /* 2 */;
}
textarea {
  overflow: auto;
}
optgroup {
  font-weight: bold;
}
table:not([class]) {
  border-collapse: collapse;
  overflow: auto;
  display: block;
  max-width: 100%;
  vertical-align: text-top;
  margin: 12px 0;
}
table:not([class]) th {
  background-color: #f1f1f1;
}
table:not([class]) td,
table:not([class]) th {
  padding: 8px 16px;
  border: 2px solid #f1f1f1;
  line-height: 1.5;
  font-size: 90%;
}
table:not([class]) tr {
  word-break: keep-all;
  background-color: #fefefe;
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
}
table:not([class]) tr:hover {
  background-color: #f1f1f1;
}
td,
th {
  padding: 0;
}
#l_cover {
  min-height: 64px;
}
.cover-wrapper {
  top: 0;
  left: 0;
  max-width: 100%;
  height: 100vh;
  display: flex;
  flex-wrap: nowrap;
  flex-direction: column;
  align-items: center;
  align-self: center;
  align-content: center;
  color: var(--color-site-inner);
  padding: 0 16px;
  -moz-user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  user-select: none;
  position: relative;
  overflow: hidden;
  margin-bottom: -100px;
}
.cover-wrapper .cover-bg,
.cover-wrapper #cover-backstretch {
  position: absolute;
  width: 100%;
  height: 100%;
  background-position: center;
  background-size: cover;
}
.cover-wrapper .cover-bg.lazyload:not(.loaded),
.cover-wrapper #cover-backstretch.lazyload:not(.loaded) {
  opacity: 0;
}
.cover-wrapper .cover-bg.lazyload.loaded,
.cover-wrapper #cover-backstretch.lazyload.loaded {
  animation-delay: 0s;
  animation-duration: 0.5s;
  animation-fill-mode: forwards;
  animation-timing-function: ease-out;
  animation-name: fadeIn;
}
@-moz-keyframes fadeIn {
  0% {
    opacity: 0;
    filter: blur(12px);
    transform: scale(1.02);
  }
  100% {
    opacity: 1;
  }
}
@-webkit-keyframes fadeIn {
  0% {
    opacity: 0;
    filter: blur(12px);
    transform: scale(1.02);
  }
  100% {
    opacity: 1;
  }
}
@-o-keyframes fadeIn {
  0% {
    opacity: 0;
    filter: blur(12px);
    transform: scale(1.02);
  }
  100% {
    opacity: 1;
  }
}
@keyframes fadeIn {
  0% {
    opacity: 0;
    filter: blur(12px);
    transform: scale(1.02);
  }
  100% {
    opacity: 1;
  }
}
.cover-wrapper .cover-body {
  z-index: 1;
  position: relative;
  width: 100%;
  height: 100%;
}
.cover-wrapper#full {
  height: calc(100vh + 100px);
  padding-bottom: 100px;
}
.cover-wrapper#half {
  max-height: 640px;
  min-height: 400px;
  height: calc(36vh - 64px + 200px);
}
.cover-wrapper #scroll-down {
  width: 100%;
  height: 64px;
  position: absolute;
  bottom: 100px;
  text-align: center;
  cursor: pointer;
}
.cover-wrapper #scroll-down .scroll-down-effects {
  color: #fff;
  font-size: 24px;
  line-height: 64px;
  position: absolute;
  width: 24px;
  left: calc(50% - 12px);
  text-shadow: 0 1px 2px rgba(0,0,0,0.1);
  animation: scroll-down-effect 1.5s infinite;
}
@-moz-keyframes scroll-down-effect {
  0% {
    top: 0;
    opacity: 1;
  }
  50% {
    top: -16px;
    opacity: 0.4;
  }
  100% {
    top: 0;
    opacity: 1;
  }
}
@-webkit-keyframes scroll-down-effect {
  0% {
    top: 0;
    opacity: 1;
  }
  50% {
    top: -16px;
    opacity: 0.4;
  }
  100% {
    top: 0;
    opacity: 1;
  }
}
@-o-keyframes scroll-down-effect {
  0% {
    top: 0;
    opacity: 1;
  }
  50% {
    top: -16px;
    opacity: 0.4;
  }
  100% {
    top: 0;
    opacity: 1;
  }
}
@keyframes scroll-down-effect {
  0% {
    top: 0;
    opacity: 1;
  }
  50% {
    top: -16px;
    opacity: 0.4;
  }
  100% {
    top: 0;
    opacity: 1;
  }
}
.cover-wrapper .cover-body {
  margin-top: 64px;
  margin-bottom: 100px;
}
.cover-wrapper .cover-body,
.cover-wrapper .cover-body .top,
.cover-wrapper .cover-body .bottom {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  max-width: 100%;
}
.cover-wrapper .cover-body .bottom {
  margin-top: 32px;
}
.cover-wrapper .cover-body .title {
  font-family: sxls, "PingFang SC", "Microsoft YaHei", Helvetica, Arial, Helvetica, monospace;
  font-size: 3.125rem;
  line-height: 1.2;
  text-shadow: 0 1px 2px rgba(0,0,0,0.7);
  text-align: center;
}
.cover-wrapper .cover-body .subtitle {
  font-size: 20px;
}
.cover-wrapper .cover-body .logo {
  max-height: 120px;
  max-width: calc(100% - 4 * 16px);
}
@media screen and (min-height: 1024px) {
  .cover-wrapper .cover-body .title {
    font-size: 3rem;
  }
  .cover-wrapper .cover-body .subtitle {
    font-size: 1.05rem;
  }
  .cover-wrapper .cover-body .logo {
    max-height: 150px;
  }
}
.cover-wrapper .cover-body .m_search {
  position: relative;
  max-width: calc(100% - 16px);
  width: 320px;
  vertical-align: middle;
}
.cover-wrapper .cover-body .m_search .form {
  position: relative;
  display: block;
  width: 100%;
}
.cover-wrapper .cover-body .m_search .icon,
.cover-wrapper .cover-body .m_search .input {
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
}
.cover-wrapper .cover-body .m_search .icon {
  position: absolute;
  display: block;
  line-height: 2.5rem;
  width: 32px;
  top: 0;
  left: 5px;
  color: rgba(68,68,68,0.75);
}
.cover-wrapper .cover-body .m_search .input {
  display: block;
  height: 2.5rem;
  width: 100%;
  box-shadow: none;
  box-sizing: border-box;
  font-size: 0.875rem;
  -webkit-appearance: none;
  padding-left: 36px;
  border-radius: 1.4rem;
  background: rgba(255,255,255,0.6);
  backdrop-filter: blur(10px);
  border: none;
  color: var(--color-text);
}
@media screen and (max-width: 500px) {
  .cover-wrapper .cover-body .m_search .input {
    padding-left: 36px;
  }
}
.cover-wrapper .cover-body .m_search .input:hover {
  background: rgba(255,255,255,0.8);
}
.cover-wrapper .cover-body .m_search .input:focus {
  background: #fff;
}
.cover-wrapper .list-h {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: stretch;
  border-radius: 4px;
  -moz-user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  user-select: none;
}
.cover-wrapper .list-h a {
  flex: 1;
  display: flex;
  font-weight: 600;
}
.cover-wrapper .list-h a img {
  display: block;
  border-radius: 2px;
  margin: 4px;
  min-width: 40px;
  max-width: 44px;
}
@media screen and (max-width: 768px) {
  .cover-wrapper .list-h a img {
    min-width: 36px;
    max-width: 40px;
  }
}
@media screen and (max-width: 500px) {
  .cover-wrapper .list-h a img {
    margin: 2px 4px;
    min-width: 32px;
    max-width: 36px;
  }
}
@media screen and (max-width: 375px) {
  .cover-wrapper .list-h a img {
    min-width: 28px;
    max-width: 32px;
  }
}
.cover-wrapper {
  max-width: 100%;
}
.cover-wrapper.search .bottom .menu {
  margin-top: 16px;
}
.cover-wrapper.search .bottom .menu .list-h a {
  white-space: nowrap;
  flex-direction: row;
  align-items: baseline;
  padding: 2px;
  margin: 4px;
  color: var(--color-site-inner);
  opacity: 0.75;
  text-shadow: 0 1px 2px rgba(0,0,0,0.7);
  border-bottom: 2px solid transparent;
}
.cover-wrapper.search .bottom .menu .list-h a i {
  margin-right: 4px;
}
.cover-wrapper.search .bottom .menu .list-h a p {
  font-size: 0.9375rem;
}
.cover-wrapper.search .bottom .menu .list-h a:hover,
.cover-wrapper.search .bottom .menu .list-h a.active,
.cover-wrapper.search .bottom .menu .list-h a:active {
  opacity: 1;
  border-bottom: 2px solid var(--color-site-inner);
}
.cover-wrapper.dock .menu,
.cover-wrapper.featured .menu,
.cover-wrapper.focus .menu {
  border-radius: 6px;
}
.cover-wrapper.dock .menu .list-h a,
.cover-wrapper.featured .menu .list-h a,
.cover-wrapper.focus .menu .list-h a {
  flex-direction: column;
  align-items: center;
  padding: 12px;
  line-height: 24px;
  border-radius: 4px;
  border-bottom: none;
  text-align: center;
  align-content: flex-end;
  color: rgba(68,68,68,0.7);
  font-size: 1.5rem;
}
@media screen and (max-width: 500px) {
  .cover-wrapper.dock .menu .list-h a,
  .cover-wrapper.featured .menu .list-h a,
  .cover-wrapper.focus .menu .list-h a {
    padding: 12px 8px;
  }
}
.cover-wrapper.dock .menu .list-h a i,
.cover-wrapper.featured .menu .list-h a i,
.cover-wrapper.focus .menu .list-h a i {
  margin: 8px;
}
.cover-wrapper.dock .menu .list-h a p,
.cover-wrapper.featured .menu .list-h a p,
.cover-wrapper.focus .menu .list-h a p {
  font-size: 0.875rem;
}
.cover-wrapper.dock .menu .list-h a.active,
.cover-wrapper.featured .menu .list-h a.active,
.cover-wrapper.focus .menu .list-h a.active {
  background: var(--color-card);
  backdrop-filter: none;
}
.cover-wrapper.dock .menu .list-h a.active i,
.cover-wrapper.featured .menu .list-h a.active i,
.cover-wrapper.focus .menu .list-h a.active i,
.cover-wrapper.dock .menu .list-h a.active i+p,
.cover-wrapper.featured .menu .list-h a.active i+p,
.cover-wrapper.focus .menu .list-h a.active i+p {
  color: #44d7b6;
}
.cover-wrapper.dock .menu .list-h a.active img+p,
.cover-wrapper.featured .menu .list-h a.active img+p,
.cover-wrapper.focus .menu .list-h a.active img+p {
  color: var(--color-text);
}
.cover-wrapper.dock .menu .list-h a:hover,
.cover-wrapper.featured .menu .list-h a:hover,
.cover-wrapper.focus .menu .list-h a:hover {
  background: var(--color-card);
}
.cover-wrapper.dock .top {
  margin-bottom: 48px;
}
.cover-wrapper.dock .menu {
  background: rgba(255,255,255,0.5);
  position: absolute;
  bottom: 0;
  max-width: 100%;
}
.cover-wrapper.dock .menu .list-h {
  flex-wrap: nowrap;
  margin: 4px;
}
.cover-wrapper.dock .menu .list-h a+a {
  margin-left: 4px;
}
@media screen and (max-width: 500px) {
  .cover-wrapper.dock .menu .list-h {
    overflow-x: scroll;
  }
  .cover-wrapper.dock .menu .list-h::-webkit-scrollbar {
    height: 0;
    width: 0;
  }
  .cover-wrapper.dock .menu .list-h::-webkit-scrollbar-track-piece {
    background: transparent;
  }
  .cover-wrapper.dock .menu .list-h::-webkit-scrollbar-thumb {
    background: #44d7b6;
    cursor: pointer;
    border-radius: 0;
  }
  .cover-wrapper.dock .menu .list-h::-webkit-scrollbar-thumb:hover {
    background: #23a386;
  }
}
@supports (backdrop-filter: blur(20px)) {
  .cover-wrapper.dock .menu {
    background: rgba(255,255,255,0.5);
    backdrop-filter: saturate(200%) blur(20px);
  }
}
.cover-wrapper.featured .menu .list-h {
  margin: -2px;
}
.cover-wrapper.featured .menu .list-h a {
  margin: 2px;
  background: rgba(255,255,255,0.5);
}
@supports (backdrop-filter: blur(20px)) {
  .cover-wrapper.featured .menu .list-h a {
    background: rgba(255,255,255,0.5);
    backdrop-filter: saturate(200%) blur(20px);
  }
}
.cover-wrapper.focus .menu {
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
}
.cover-wrapper.focus .menu .list-h {
  margin: 2px;
}
.cover-wrapper.focus .menu:hover {
  background: rgba(255,255,255,0.5);
}
@supports (backdrop-filter: blur(20px)) {
  .cover-wrapper.focus .menu:hover {
    background: rgba(255,255,255,0.5);
    backdrop-filter: saturate(200%) blur(20px);
  }
}
.cover-wrapper.focus .menu .list-h a {
  margin: 2px;
}
.cover-wrapper.focus .menu .list-h a:hover {
  opacity: 1;
  background: var(--color-card);
}
.cover-wrapper #parallax-window {
  position: absolute;
  width: 100%;
  height: 100%;
  background: transparent;
}
.parallax-mirror {
  animation-delay: 0s;
  animation-duration: 0.5s;
  animation-fill-mode: forwards;
  animation-timing-function: ease-out;
  animation-name: fadeIn;
}
@-moz-keyframes fadeIn {
  0% {
    opacity: 0;
    filter: blur(12px);
  }
  100% {
    opacity: 1;
  }
}
@-webkit-keyframes fadeIn {
  0% {
    opacity: 0;
    filter: blur(12px);
  }
  100% {
    opacity: 1;
  }
}
@-o-keyframes fadeIn {
  0% {
    opacity: 0;
    filter: blur(12px);
  }
  100% {
    opacity: 1;
  }
}
@keyframes fadeIn {
  0% {
    opacity: 0;
    filter: blur(12px);
  }
  100% {
    opacity: 1;
  }
}
.l_header {
  position: fixed;
  z-index: 1000;
  top: 0;
  width: 100%;
  height: 64px;
  background: var(--color-card);
  box-shadow: 0 1px 2px 0px rgba(0,0,0,0.1);
}
.l_header.auto {
  transition: opacity 0.4s ease;
  -moz-transition: opacity 0.4s ease;
  -webkit-transition: opacity 0.4s ease;
  -o-transition: opacity 0.4s ease;
  visibility: hidden;
}
.l_header.auto.show {
  opacity: 1 !important;
  visibility: visible;
}
.l_header .container {
  margin-left: 16px;
  margin-right: 16px;
}
.l_header #wrapper {
  height: 100%;
  -moz-user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  user-select: none;
}
.l_header #wrapper .nav-main,
.l_header #wrapper .nav-sub {
  display: flex;
  flex-wrap: nowrap;
  justify-content: space-between;
  align-items: center;
}
.l_header #wrapper .nav-main {
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
}
.l_header #wrapper.sub .nav-main {
  transform: translateY(-64px);
}
.l_header #wrapper .nav-sub {
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  opacity: 0;
  height: 64px;
  width: calc(100% - 2 * 16px);
  position: absolute;
}
@media screen and (min-width: 2048px) {
  .l_header #wrapper .nav-sub {
    max-width: 55vw;
    margin: auto;
  }
}
.l_header #wrapper.sub .nav-sub {
  opacity: 1;
}
.l_header #wrapper .title {
  position: relative;
  color: var(--color-text);
  padding-left: 24px;
  max-height: 64px;
}
.l_header #wrapper .nav-main .title {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  flex-shrink: 0;
  line-height: 64px;
  padding: 0 24px;
  font-size: 1.25rem;
  font-family: sxls, "PingFang SC", "Microsoft YaHei", Helvetica, Arial, Helvetica, monospace;
}
.l_header #wrapper .nav-main .title img {
  height: 64px;
}
.l_header .nav-sub {
  max-width: 1080px;
  margin: auto;
}
.l_header .nav-sub .title {
  font-weight: bold;
  font-family: FZFWZhuZiAYuan, -apple-system, BlinkMacSystemFont, Helvetica Neue, PingFang SC, Microsoft YaHei, Source Han Sans SC, Noto Sans CJK SC, WenQuanYi Micro Hei, Menlo, Monaco, monospace, sans-serif;
  line-height: 1.2;
  max-height: 64px;
  white-space: normal;
  flex-shrink: 1;
}
.l_header .switcher {
  display: none;
  line-height: 64px;
  align-items: center;
}
.l_header .switcher .s-toc {
  display: none;
}
@media screen and (max-width: 768px) {
  .l_header .switcher .s-toc {
    display: flex;
  }
}
.l_header .switcher >li {
  height: 48px;
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  margin: 2px;
}
@media screen and (max-width: 500px) {
  .l_header .switcher >li {
    margin: 0 1px;
    height: 48px;
  }
}
.l_header .switcher >li >a {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 48px;
  height: 48px;
  padding: 0.85em 1.1em;
  border-radius: 100px;
  border: none;
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  color: #44d7b6;
}
.l_header .switcher >li >a:hover {
  border: none;
}
.l_header .switcher >li >a.active,
.l_header .switcher >li >a:active {
  border: none;
  background: var(--color-site-bg);
}
@media screen and (max-width: 500px) {
  .l_header .switcher >li >a {
    width: 36px;
    height: 48px;
  }
}
.l_header .nav-sub .switcher {
  display: flex;
}
.l_header .m_search {
  display: flex;
  height: 64px;
  width: 240px;
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
}
@media screen and (max-width: 1024px) {
  .l_header .m_search {
    width: 44px;
    min-width: 44px;
  }
  .l_header .m_search input::placeholder {
    opacity: 0;
  }
  .l_header .m_search:hover {
    width: 240px;
  }
  .l_header .m_search:hover input::placeholder {
    opacity: 1;
  }
}
@media screen and (min-width: 500px) {
  .l_header .m_search:hover .input {
    width: 100%;
  }
  .l_header .m_search:hover .input::placeholder {
    opacity: 1;
  }
}
@media screen and (max-width: 500px) {
  .l_header .m_search {
    min-width: 0;
  }
  .l_header .m_search input::placeholder {
    opacity: 1;
  }
}
.l_header .m_search .form {
  position: relative;
  display: flex;
  width: 100%;
  align-items: center;
}
.l_header .m_search .icon {
  position: absolute;
  width: 36px;
  left: 5px;
  color: var(--color-meta);
}
@media screen and (max-width: 500px) {
  .l_header .m_search .icon {
    display: none;
  }
}
.l_header .m_search .input {
  display: block;
  padding-top: 8px;
  padding-bottom: 8px;
  line-height: 1.3;
  width: 100%;
  color: var(--color-text);
  background: #fafafa;
  box-shadow: none;
  box-sizing: border-box;
  padding-left: 40px;
  font-size: 0.875rem;
  border-radius: 8px;
  border: none;
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
}
@media screen and (min-width: 500px) {
  .l_header .m_search .input:focus {
    box-shadow: 0 4px 8px 0px rgba(0,0,0,0.1);
  }
}
@media screen and (max-width: 500px) {
  .l_header .m_search .input {
    background: var(--color-block);
    padding-left: 8px;
    border: none;
  }
  .l_header .m_search .input:hover,
  .l_header .m_search .input:focus {
    border: none;
  }
}
@media (max-width: 500px) {
  .l_header .m_search {
    left: 0;
    width: 0;
    overflow: hidden;
    position: absolute;
    background: #fff;
    transition: all 0.28s ease;
    -moz-transition: all 0.28s ease;
    -webkit-transition: all 0.28s ease;
    -o-transition: all 0.28s ease;
    -moz-transition: all 0.28s ease;
    -webkit-transition: all 0.28s ease;
    -o-transition: all 0.28s ease;
  }
  .l_header .m_search .input {
    border-radius: 32px;
    margin-left: 16px;
    padding-left: 16px;
  }
  .l_header.z_search-open .m_search {
    width: 100%;
  }
  .l_header.z_search-open .m_search .input {
    width: calc(100% - 120px);
  }
}
ul.m-pc >li>a {
  color: inherit;
  border-bottom: 2px solid transparent;
}
ul.m-pc >li>a:active,
ul.m-pc >li>a.active {
  border-bottom: 2px solid #44d7b6;
}
ul.m-pc li:hover >ul.list-v,
ul.list-v li:hover >ul.list-v {
  display: block;
}
ul.nav-list-h {
  display: flex;
  align-items: stretch;
}
ul.nav-list-h>li {
  position: relative;
  justify-content: center;
  height: 100%;
  line-height: 2.4;
  border-radius: 4px;
}
ul.nav-list-h>li >a {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-weight: 600;
}
ul.list-v {
  z-index: 1;
  display: none;
  position: absolute;
  background: var(--color-card);
  box-shadow: 0 2px 4px 0px rgba(0,0,0,0.08), 0 4px 8px 0px rgba(0,0,0,0.08), 0 8px 16px 0px rgba(0,0,0,0.08);
  margin-top: -6px;
  border-radius: 4px;
  padding: 8px 0;
}
ul.list-v.show {
  display: block;
}
ul.list-v hr {
  margin-top: 8px;
  margin-bottom: 8px;
}
ul.list-v >li {
  white-space: nowrap;
  word-break: keep-all;
}
ul.list-v >li.header {
  font-size: 0.78rem;
  font-weight: bold;
  line-height: 2em;
  color: var(--color-meta);
  margin: 8px 16px 4px;
}
ul.list-v >li.header i {
  margin-right: 8px;
}
ul.list-v >li ul {
  margin-left: 0;
  display: none;
  margin-top: -40px;
}
ul.list-v .aplayer-container {
  min-height: 64px;
  padding: 6px 16px;
}
ul.list-v >li>a {
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  display: block;
  color: var(--color-list);
  font-size: 0.875rem;
  line-height: 36px;
  padding: 0 20px 0 16px;
  text-overflow: ellipsis;
  margin: 0 4px;
  border-radius: 4px;
}
@media screen and (max-width: 1024px) {
  ul.list-v >li>a {
    line-height: 40px;
  }
}
ul.list-v >li>a >i {
  margin-right: 8px;
}
ul.list-v >li>a:active,
ul.list-v >li>a.active {
  color: var(--color-list-hl);
}
ul.list-v >li>a:hover {
  color: var(--color-list-hl);
  background: var(--color-site-bg);
}
.l_header .menu >ul>li>a {
  display: block;
  padding: 0 8px;
}
.l_header .menu >ul>li>a >i {
  margin-right: 4px;
}
.l_header ul.nav-list-h>li {
  color: var(--color-list);
  line-height: 64px;
}
.l_header ul.nav-list-h>li >a {
  max-height: 64px;
  overflow: hidden;
  color: inherit;
}
.l_header ul.nav-list-h>li >a:active,
.l_header ul.nav-list-h>li >a.active {
  color: #44d7b6;
}
.l_header ul.nav-list-h>li:hover>a {
  color: var(--color-list-hl);
}
.l_header ul.nav-list-h>li i.music {
  animation: rotate-effect 1.5s linear infinite;
}
@-moz-keyframes rotate-effect {
  0% {
    transform: rotate(0);
  }
  25% {
    transform: rotate(90deg);
  }
  50% {
    transform: rotate(180deg);
  }
  75% {
    transform: rotate(270deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
@-webkit-keyframes rotate-effect {
  0% {
    transform: rotate(0);
  }
  25% {
    transform: rotate(90deg);
  }
  50% {
    transform: rotate(180deg);
  }
  75% {
    transform: rotate(270deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
@-o-keyframes rotate-effect {
  0% {
    transform: rotate(0);
  }
  25% {
    transform: rotate(90deg);
  }
  50% {
    transform: rotate(180deg);
  }
  75% {
    transform: rotate(270deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
@keyframes rotate-effect {
  0% {
    transform: rotate(0);
  }
  25% {
    transform: rotate(90deg);
  }
  50% {
    transform: rotate(180deg);
  }
  75% {
    transform: rotate(270deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.menu-phone li ul.list-v {
  right: calc(100% - 0.5 * 16px);
}
.menu-phone li ul.list-v ul {
  right: calc(100% - 0.5 * 16px);
}
#wrapper {
  max-width: 1080px;
  margin: auto;
}
@media screen and (min-width: 2048px) {
  #wrapper {
    max-width: 55vw;
  }
}
#wrapper .menu {
  flex: 1 1 auto;
  margin: 0 16px 0 0;
}
#wrapper .menu .list-v ul {
  left: calc(100% - 0.5 * 16px);
}
.menu-phone {
  display: none;
  margin-top: 16px;
  right: 8px;
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
}
.menu-phone ul {
  right: calc(100% - 0.5 * 16px);
}
@media screen and (max-width: 500px) {
  .menu-phone {
    display: block;
  }
}
.cover-wrapper .l_header {
  transition: all 0.5s ease;
  -moz-transition: all 0.5s ease;
  -webkit-transition: all 0.5s ease;
  -o-transition: all 0.5s ease;
  -moz-transition: all 0.5s ease;
  -webkit-transition: all 0.5s ease;
  -o-transition: all 0.5s ease;
  transform: translateY(-128px);
}
.cover-wrapper .l_header.show {
  transform: translateY(0);
}
.l_header {
  max-width: 65vw;
  left: calc((100% - 65vw) * 0.5);
  border-bottom-left-radius: 8px;
  border-bottom-right-radius: 8px;
}
@media screen and (max-width: 2048px) {
  .l_header {
    max-width: 1112px;
    left: calc((100% - 1112px) * 0.5);
  }
}
@media screen and (max-width: 1112px) {
  .l_header {
    left: 0;
    border-radius: 0;
    max-width: 100%;
  }
}
@media screen and (max-width: 500px) {
  .l_header .container {
    margin-left: 0;
    margin-right: 0;
  }
  .l_header #wrapper .nav-main .title {
    padding-left: 16px;
    padding-right: 16px;
  }
  .l_header #wrapper .nav-sub {
    width: 100%;
  }
  .l_header #wrapper .nav-sub .title {
    overflow-y: scroll;
    margin-top: 2px;
    padding: 8px 16px;
  }
  .l_header #wrapper .switcher {
    display: flex;
    margin-right: 8px;
    height: 64px;
  }
  .l_header .menu {
    display: none;
  }
}
@media screen and (max-width: 500px) {
  .list-v li {
    max-width: 270px;
  }
}
#u-search {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  padding: 60px 20px;
  z-index: 1001;
}
@media screen and (max-width: 680px) {
  #u-search {
    padding: 0px;
  }
}
#u-search .modal {
  position: fixed;
  height: 80%;
  width: 100%;
  max-width: 640px;
  left: 50%;
  top: 0;
  margin: 64px 0px 0px -320px;
  background: var(--color-card);
  z-index: 3;
  border-radius: 4px;
  overflow: hidden;
}
@media screen and (max-width: 680px) {
  #u-search .modal {
    box-shadow: none;
    max-width: none;
    top: 0;
    left: 0;
    margin: 0;
    height: 100%;
    border-radius: 0;
  }
}
#u-search .modal-ajax-content {
  opacity: 0;
  visibility: hidden;
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
}
#u-search .modal-ajax-content.loaded {
  opacity: 1;
  visibility: visible;
}
#u-search .modal-header {
  position: relative;
  width: 100%;
  height: 64px;
  z-index: 3;
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
  font-size: $fontsize;
  box-shadow: 0 1px 2px 0px rgba(0,0,0,0.1);
  background: #fff;
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
}
@media screen and (max-width: 680px) {
  #u-search .modal-header {
    border-radius: 0;
    padding: 0px;
  }
}
#u-search .modal-header .btn-close {
  display: block;
  position: absolute;
  width: 55px;
  height: 64px;
  top: 0;
  right: 0;
  color: #44d7b6;
  cursor: pointer;
  text-align: center;
  line-height: 64px;
  vertical-align: middle;
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  z-index: 2;
}
#u-search .modal-header .btn-close:hover {
  transform: rotate(90deg);
}
#u-search .modal-header .modal-loading {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: transparent;
  z-index: 1;
}
#u-search .modal-header .modal-loading .modal-loading-bar {
  display: block;
  position: relative;
  width: 0%;
  height: 100%;
  background: #44d7b6;
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
}
#u-search .modal-header #u-search-modal-form {
  position: relative;
  width: 100%;
  height: 100%;
  z-index: 2;
}
#u-search .modal-header #u-search-modal-form input {
  color: var(--color-text);
}
#u-search .modal-header #u-search-modal-form #u-search-modal-input {
  margin: 16px 50px;
  padding: 0 8px;
  width: calc(100% - 100px - 16px);
  line-height: 2rem;
  border-radius: 4px;
  vertical-align: middle;
  border: none;
  appearance: none;
  box-shadow: none;
  background: transparent;
  transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
}
@media screen and (max-width: 680px) {
  #u-search .modal-header #u-search-modal-form #u-search-modal-input {
    padding: 0;
  }
}
#u-search .modal-header #u-search-modal-form #u-search-modal-input:focus {
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
}
#u-search .modal-header #u-search-modal-btn-submit {
  position: absolute;
  top: 0;
  left: 0;
  padding-left: 5px;
  padding-top: 2px;
  background: transparent;
  border: none;
  width: 50px;
  height: 64px;
  vertical-align: middle;
  color: #44d7b6;
  z-index: 2;
}
#u-search .modal-footer {
  position: absolute;
  display: none;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 50px;
  padding: 0px 15px;
  background: var(--color-card);
}
#u-search .modal-footer .logo {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  text-align: center;
  z-index: 0;
}
#u-search .modal-footer .logo a {
  display: inline-block;
  height: 50px;
}
#u-search .modal-footer .logo.google img {
  height: 24px;
  margin-top: 13px;
}
#u-search .modal-footer .logo.baidu img {
  height: 22px;
  margin-top: 14px;
}
#u-search .modal-footer .logo img {
  position: relative;
  display: inline-block;
  width: auto;
  height: 18px;
  margin-top: 16px;
}
#u-search .modal-footer .modal-error {
  position: relative;
  float: left;
  vertical-align: middle;
  line-height: 50px;
  font-size: 13px;
  z-index: 1;
}
#u-search .modal-footer .modal-metadata {
  position: relative;
  float: left;
  vertical-align: middle;
  line-height: 50px;
  font-size: 13px;
  z-index: 1;
}
#u-search .modal-footer .nav {
  position: relative;
  display: block;
  float: right;
  vertical-align: middle;
  font-size: 0.875rem;
  font-weight: bold;
  line-height: 50px;
  color: var(--color-meta);
  cursor: pointer;
  z-index: 1;
}
#u-search .modal-footer .nav:hover {
  color: #ff5722;
}
#u-search .modal-footer .nav.btn-next {
  margin-left: 16px;
}
#u-search .modal-footer .nav .icon {
  font-size: 0.875rem;
}
#u-search .modal-body {
  position: absolute;
  padding: 16px;
  width: 100%;
  height: calc(100% - 64px);
  top: 64px;
  left: 0;
  overflow-y: scroll;
  -webkit-overflow-scrolling: touch;
  background: var(--color-card);
  border-radius: 4px;
}
#u-search .modal-body::-webkit-scrollbar {
  height: 4px;
  width: 4px;
}
#u-search .modal-body::-webkit-scrollbar-track-piece {
  background: transparent;
}
#u-search .modal-body::-webkit-scrollbar-thumb {
  background: #44d7b6;
  cursor: pointer;
  border-radius: 2px;
}
#u-search .modal-body::-webkit-scrollbar-thumb:hover {
  background: #23a386;
}
#u-search .modal-body .modal-results {
  list-style: none;
}
#u-search .modal-body .modal-results .result {
  position: relative;
  display: block;
  padding: 16px;
  border-radius: 4px;
}
#u-search .modal-body .modal-results .result b[mark] {
  color: #29bf9d;
  text-decoration: underline;
}
#u-search .modal-body .modal-results .result:hover {
  background: var(--color-site-bg);
}
#u-search .modal-body .modal-results .result:hover .title {
  color: var(--color-list-hl);
}
#u-search .modal-body .modal-results .result .title {
  display: inline-block;
  max-width: 100%;
  color: var(--color-list);
  font-weight: bold;
  padding: 1px;
  margin-bottom: 2px;
  white-space: normal;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 1.125rem;
}
#u-search .modal-body .modal-results .result .digest {
  display: block;
  white-space: inherit;
  overflow: hidden;
  word-break: break-all;
  text-overflow: ellipsis;
  font-size: 1rem;
  color: var(--color-meta);
}
#u-search .modal-body .modal-results .result .icon {
  position: absolute;
  top: 50%;
  right: 0;
  margin-top: -4px;
  font-size: 11px;
  color: var(--color-meta);
}
#u-search .modal-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.7);
  z-index: 1;
}
@media screen and (max-width: 2048px) {
  .l_header {
    left: 0 !important;
    border-radius: 0 !important;
    max-width: 100% !important;
  }
}
article > p {
  font-family: -apple-system, BlinkMacSystemFont, Helvetica Neue, PingFang SC, Microsoft YaHei, Source Han Sans SC, Noto Sans CJK SC, WenQuanYi Micro Hei, sans-serif;
  font-weight: 400 !important;
  line-height: 2 !important;
  margin: 0 0 20px 0;
}
@media screen and (max-width: 500px) {
  #safearea {
    margin: 16px 0 0 !important;
    box-shadow: none !important;
  }
  #safearea #l_main article#comments,
  #safearea #l_main article#friends,
  #safearea #l_main article#post,
  #safearea #l_main article#page,
  #safearea #l_main article#arc {
    border-radius: 0 !important;
    margin-top: -16px !important;
  }
  #safearea #l_main article#cat,
  #safearea #l_main article#tag {
    margin: -16px -16px 0 !important;
    border-radius: 0 !important;
  }
  #safearea #l_main .post-wrapper {
    margin: 0 16px !important;
  }
  #safearea #l_side .widget.mobile {
    border-radius: 0 !important;
  }
}
.iconfont {
  width: 1em;
  height: 1em;
  vertical-align: -0.15em;
  fill: currentColor;
  overflow: hidden;
}
.iconfont.emoji {
  width: 1.5em;
  height: 1.5em;
  vertical-align: -0.3em;
}
.rem1p5 {
  font-size: 1.5rem;
}
.rem2 {
  font-size: 2rem;
}
.rem6 {
  font-size: 6rem;
}
.rem12 {
  font-size: 12rem;
}
@media (prefers-color-scheme: dark) {
  :root {
    --color-mode: 'dark';
  }
  :root:not([data-user-color-scheme]) {
    --color-site-body: #000;
    --color-site-bg: #21252b;
    --color-site-inner: #eee;
    --color-site-footer: #abb2bf;
    --color-card: #282c34;
    --color-text: #abb2bf;
    --color-block: #21252b;
    --color-codeblock: #343a3c;
    --color-inlinecode: #d56d28;
    --color-h1: #979fad;
    --color-h2: #979fad;
    --color-h3: #979fad;
    --color-h4: #979fad;
    --color-h5: #979fad;
    --color-h6: #979fad;
    --color-p: #abb2bf;
    --color-list: #aaa;
    --color-list-hl: #69dfc4;
    --color-meta: #888;
    --color-link: #888;
  }
  :root:not([data-user-color-scheme]) #l_body {
    background-color: #21252b !important;
  }
  :root:not([data-user-color-scheme]) svg.iconfont,
  :root:not([data-user-color-scheme]) .lazyload,
  :root:not([data-user-color-scheme]) .pdf,
  :root:not([data-user-color-scheme]) img {
    filter: brightness(70%) !important;
  }
  :root:not([data-user-color-scheme]) .fal,
  :root:not([data-user-color-scheme]) .fad,
  :root:not([data-user-color-scheme]) .fas,
  :root:not([data-user-color-scheme]) .fa {
    filter: brightness(90%) !important;
  }
  :root:not([data-user-color-scheme]) #wrapper .title {
    color: var(--color-meta);
  }
  :root:not([data-user-color-scheme]) .l_header ul.nav-list-h>li>a,
  :root:not([data-user-color-scheme]) ul.list-v >li>a {
    color: var(--color-list);
  }
  :root:not([data-user-color-scheme]) .blur {
    background: var(--color-site-bg) !important;
  }
  :root:not([data-user-color-scheme]) .nav-main .u-search-input {
    background: var(--color-card) !important;
  }
  :root:not([data-user-color-scheme]) #l_main .article .prev-next>a {
    background: var(--color-block);
  }
  :root:not([data-user-color-scheme]) #l_main .article .prev-next>a:hover {
    background: var(--color-card);
  }
  :root:not([data-user-color-scheme]) .article blockquote {
    background: var(--color-block);
  }
  :root:not([data-user-color-scheme]) .article-title a {
    color: var(--color-h1);
  }
  :root:not([data-user-color-scheme]) details>summary {
    color: var(--color-p) !important;
    background: var(--color-site-bg) !important;
  }
  :root:not([data-user-color-scheme]) details {
    border: none !important;
    background: var(--color-site-bg);
  }
  :root:not([data-user-color-scheme]) #u-search .modal {
    background: var(--color-card) !important;
  }
  :root:not([data-user-color-scheme]) #u-search .modal-header {
    background: var(--color-card) !important;
  }
  :root:not([data-user-color-scheme]) #u-search .modal-body {
    background: var(--color-card) !important;
  }
  :root:not([data-user-color-scheme]) #u-search .modal-body .modal-results .result:hover {
    background: var(--color-block) !important;
  }
  :root:not([data-user-color-scheme]) .widget.blogger .content .social-wrapper a.social:hover {
    background: var(--color-card);
  }
  :root:not([data-user-color-scheme]) .content {
    color: var(--color-p);
  }
  :root:not([data-user-color-scheme]) .note {
    background: var(--color-block) !important;
  }
  :root:not([data-user-color-scheme]) div.tabs ul.nav-tabs li.tab.active a {
    color: var(--color-p);
    background: var(--color-card);
  }
  :root:not([data-user-color-scheme]) kbd {
    background: var(--color-block) !important;
  }
  :root:not([data-user-color-scheme]) .cover-wrapper.dock .menu .list-h a:hover,
  :root:not([data-user-color-scheme]) .cover-wrapper.featured .menu .list-h a:hover,
  :root:not([data-user-color-scheme]) .cover-wrapper.focus .menu .list-h a:hover {
    color: var(--color-text) !important;
  }
  :root:not([data-user-color-scheme]) .gutter {
    background: #1d1f23 !important;
    background-color: #1d1f23 !important;
  }
  :root:not([data-user-color-scheme]) .highlight figcaption {
    background-color: #21252b !important;
  }
  :root:not([data-user-color-scheme]) .highlight pre .line,
  :root:not([data-user-color-scheme]) .highlight pre .params {
    color: rgba(158,142,142,0.9);
  }
  :root:not([data-user-color-scheme]) *:not(.highlight) >table tr {
    background-color: var(--color-card);
  }
  :root:not([data-user-color-scheme]) *:not(.highlight) >table th {
    background: var(--color-site-bg);
  }
  :root:not([data-user-color-scheme]) *:not(.highlight) table td,
  :root:not([data-user-color-scheme]) *:not(.highlight) table th {
    border-color: var(--color-site-bg);
  }
  :root:not([data-user-color-scheme]) *:not(.highlight) >table tr:hover {
    background: var(--color-codeblock);
  }
  :root:not([data-user-color-scheme]) .timenode .highlight {
    border-color: var(--color-site-bg) !important;
  }
  :root:not([data-user-color-scheme]) blockquote p {
    color: var(--color-p);
  }
  :root:not([data-user-color-scheme]) #archive-page .archive .all-tags ul li span {
    color: var(--color-text);
    background: #6f6f72;
  }
  :root:not([data-user-color-scheme]) .aplayer {
    background: var(--color-site-bg);
  }
  :root:not([data-user-color-scheme]) .aplayer .aplayer-list ol li:hover {
    background: rgba(68,215,182,0.2);
  }
  :root:not([data-user-color-scheme]) .aplayer .aplayer-list ol li.aplayer-list-light {
    background: var(--color-block);
  }
  :root:not([data-user-color-scheme]) .aplayer-info {
    background: var(--color-site-bg) !important;
  }
  :root:not([data-user-color-scheme]) .aplayer .aplayer-lrc:before {
    background: linear-gradient(180deg, #282c34 0, rgba(255,255,255,0));
  }
  :root:not([data-user-color-scheme]) .aplayer .aplayer-lrc:after {
    background: linear-gradient(180deg, rgba(0,0,0,0) 0, rgba(33,33,33,0.8));
  }
  :root:not([data-user-color-scheme]) .aplayer-pic {
    filter: brightness(70%);
  }
  :root:not([data-user-color-scheme]) .aplayer .aplayer-list ol li {
    border-top: 1px solid var(--color-card);
  }
  :root:not([data-user-color-scheme]) .aplayer.aplayer-withlist .aplayer-info {
    border-bottom: 1px solid var(--color-block);
  }
  :root:not([data-user-color-scheme]) .widget.grid .content .grid a,
  :root:not([data-user-color-scheme]) .widget>.content ul.entry a .badge,
  :root:not([data-user-color-scheme]) .widget>.content ul.popular-posts a .badge {
    color: #aaa !important;
  }
  :root:not([data-user-color-scheme]) .highlight>table,
  :root:not([data-user-color-scheme]) .highlight:hover {
    background-color: #1d1f23 !important;
  }
  :root:not([data-user-color-scheme]) article#comments p[ct] {
    color: var(--color-p) !important;
  }
  :root:not([data-user-color-scheme]) .highlight pre .comment {
    color: #847a7d !important;
  }
  :root:not([data-user-color-scheme]) .highlight pre .marked {
    background-color: #3d424f !important;
  }
  :root:not([data-user-color-scheme]) div.note.quote {
    border-color: #555c66 !important;
  }
  :root:not([data-user-color-scheme]) hr {
    background-color: #555c66 !important;
  }
  :root:not([data-user-color-scheme]) #read_bkg {
    background: #21252b !important;
  }
  :root:not([data-user-color-scheme]) #l_header,
  :root:not([data-user-color-scheme]) #l_main .post,
  :root:not([data-user-color-scheme]) #l_side .widget,
  :root:not([data-user-color-scheme]) #rightmenu-content {
    background-color: #282c34;
  }
  :root:not([data-user-color-scheme]) a,
  :root:not([data-user-color-scheme]) .widget.text .content a {
    color: #abb2bf;
  }
  :root:not([data-user-color-scheme]) a:hover,
  :root:not([data-user-color-scheme]) .widget.text .content a:hover {
    color: #ff5722;
  }
  :root:not([data-user-color-scheme]) #l_body #s-top.show.hl {
    background: #5c5e63;
  }
  :root:not([data-user-color-scheme]) textarea.el-textarea__inner {
    background: none !important;
  }
  :root:not([data-user-color-scheme]) #desktopNavTitle {
    display: none !important;
  }
  :root:not([data-user-color-scheme]) #githubEmoji {
    display: block !important;
  }
  :root:not([data-user-color-scheme]) .post_read {
    background-color: #282c34 !important;
  }
  :root:not([data-user-color-scheme]) #BKG {
    background-image: url("/blog/assets/images/background.jpg") !important;
  }
  :root:not([data-user-color-scheme]) #l_main .post,
  :root:not([data-user-color-scheme]) #l_side .widget,
  :root:not([data-user-color-scheme]) #rightmenu-content {
    box-shadow: none;
  }
}
[data-user-color-scheme='dark'] {
  --color-site-body: #000;
  --color-site-bg: #21252b;
  --color-site-inner: #eee;
  --color-site-footer: #abb2bf;
  --color-card: #282c34;
  --color-text: #abb2bf;
  --color-block: #21252b;
  --color-codeblock: #343a3c;
  --color-inlinecode: #d56d28;
  --color-h1: #979fad;
  --color-h2: #979fad;
  --color-h3: #979fad;
  --color-h4: #979fad;
  --color-h5: #979fad;
  --color-h6: #979fad;
  --color-p: #abb2bf;
  --color-list: #aaa;
  --color-list-hl: #69dfc4;
  --color-meta: #888;
  --color-link: #888;
}
[data-user-color-scheme='dark'] #l_body {
  background-color: #21252b !important;
}
[data-user-color-scheme='dark'] svg.iconfont,
[data-user-color-scheme='dark'] .lazyload,
[data-user-color-scheme='dark'] .pdf,
[data-user-color-scheme='dark'] img {
  filter: brightness(70%) !important;
}
[data-user-color-scheme='dark'] .fal,
[data-user-color-scheme='dark'] .fad,
[data-user-color-scheme='dark'] .fas,
[data-user-color-scheme='dark'] .fa {
  filter: brightness(90%) !important;
}
[data-user-color-scheme='dark'] #wrapper .title {
  color: var(--color-meta);
}
[data-user-color-scheme='dark'] .l_header ul.nav-list-h>li>a,
[data-user-color-scheme='dark'] ul.list-v >li>a {
  color: var(--color-list);
}
[data-user-color-scheme='dark'] .blur {
  background: var(--color-site-bg) !important;
}
[data-user-color-scheme='dark'] .nav-main .u-search-input {
  background: var(--color-card) !important;
}
[data-user-color-scheme='dark'] #l_main .article .prev-next>a {
  background: var(--color-block);
}
[data-user-color-scheme='dark'] #l_main .article .prev-next>a:hover {
  background: var(--color-card);
}
[data-user-color-scheme='dark'] .article blockquote {
  background: var(--color-block);
}
[data-user-color-scheme='dark'] .article-title a {
  color: var(--color-h1);
}
[data-user-color-scheme='dark'] details>summary {
  color: var(--color-p) !important;
  background: var(--color-site-bg) !important;
}
[data-user-color-scheme='dark'] details {
  border: none !important;
  background: var(--color-site-bg);
}
[data-user-color-scheme='dark'] #u-search .modal {
  background: var(--color-card) !important;
}
[data-user-color-scheme='dark'] #u-search .modal-header {
  background: var(--color-card) !important;
}
[data-user-color-scheme='dark'] #u-search .modal-body {
  background: var(--color-card) !important;
}
[data-user-color-scheme='dark'] #u-search .modal-body .modal-results .result:hover {
  background: var(--color-block) !important;
}
@media screen and (max-width: 500px) {
  [data-user-color-scheme='dark'] .l_header .m_search {
    background: var(--color-site-bg) !important;
  }
}
[data-user-color-scheme='dark'] .widget.blogger .content .social-wrapper a.social:hover {
  background: var(--color-card);
}
[data-user-color-scheme='dark'] .content {
  color: var(--color-p);
}
[data-user-color-scheme='dark'] .note {
  background: var(--color-block) !important;
}
[data-user-color-scheme='dark'] div.tabs ul.nav-tabs li.tab.active a {
  color: var(--color-p);
  background: var(--color-card);
}
[data-user-color-scheme='dark'] kbd {
  background: var(--color-block) !important;
}
[data-user-color-scheme='dark'] .cover-wrapper.dock .menu .list-h a:hover,
[data-user-color-scheme='dark'] .cover-wrapper.featured .menu .list-h a:hover,
[data-user-color-scheme='dark'] .cover-wrapper.focus .menu .list-h a:hover {
  color: var(--color-text) !important;
}
[data-user-color-scheme='dark'] .gutter {
  background: #1d1f23 !important;
  background-color: #1d1f23 !important;
}
[data-user-color-scheme='dark'] .highlight figcaption {
  background-color: #21252b !important;
}
[data-user-color-scheme='dark'] .highlight pre .line,
[data-user-color-scheme='dark'] .highlight pre .params {
  color: rgba(158,142,142,0.9);
}
[data-user-color-scheme='dark'] *:not(.highlight) >table tr {
  background-color: var(--color-card);
}
[data-user-color-scheme='dark'] *:not(.highlight) >table th {
  background: var(--color-site-bg);
}
[data-user-color-scheme='dark'] *:not(.highlight) table td,
[data-user-color-scheme='dark'] *:not(.highlight) table th {
  border-color: var(--color-site-bg);
}
[data-user-color-scheme='dark'] *:not(.highlight) >table tr:hover {
  background: var(--color-codeblock);
}
[data-user-color-scheme='dark'] .timenode .highlight {
  border-color: var(--color-site-bg) !important;
}
[data-user-color-scheme='dark'] blockquote p {
  color: var(--color-p);
}
[data-user-color-scheme='dark'] #archive-page .archive .all-tags ul li span {
  color: var(--color-text);
  background: #6f6f72;
}
[data-user-color-scheme='dark'] .aplayer {
  background: var(--color-site-bg);
}
[data-user-color-scheme='dark'] .aplayer .aplayer-list ol li:hover {
  background: rgba(68,215,182,0.2);
}
[data-user-color-scheme='dark'] .aplayer .aplayer-list ol li.aplayer-list-light {
  background: var(--color-block);
}
[data-user-color-scheme='dark'] .aplayer-info {
  background: var(--color-site-bg) !important;
}
[data-user-color-scheme='dark'] .aplayer .aplayer-lrc:before {
  background: linear-gradient(180deg, #282c34 0, rgba(255,255,255,0));
}
[data-user-color-scheme='dark'] .aplayer .aplayer-lrc:after {
  background: linear-gradient(180deg, rgba(0,0,0,0) 0, rgba(33,33,33,0.8));
}
[data-user-color-scheme='dark'] .aplayer-pic {
  filter: brightness(70%);
}
[data-user-color-scheme='dark'] .aplayer .aplayer-list ol li {
  border-top: 1px solid var(--color-card);
}
[data-user-color-scheme='dark'] .aplayer.aplayer-withlist .aplayer-info {
  border-bottom: 1px solid var(--color-block);
}
[data-user-color-scheme='dark'] .widget.grid .content .grid a,
[data-user-color-scheme='dark'] .widget>.content ul.entry a .badge,
[data-user-color-scheme='dark'] .widget>.content ul.popular-posts a .badge {
  color: #aaa !important;
}
[data-user-color-scheme='dark'] .highlight>table,
[data-user-color-scheme='dark'] .highlight:hover {
  background-color: #1d1f23 !important;
}
[data-user-color-scheme='dark'] article#comments p[ct] {
  color: var(--color-p) !important;
}
[data-user-color-scheme='dark'] .highlight pre .comment {
  color: #847a7d !important;
}
[data-user-color-scheme='dark'] .highlight pre .marked {
  background-color: #3d424f !important;
}
[data-user-color-scheme='dark'] div.note.quote {
  border-color: #555c66 !important;
}
[data-user-color-scheme='dark'] hr {
  background-color: #555c66 !important;
}
[data-user-color-scheme='dark'] #read_bkg {
  background: #21252b !important;
}
[data-user-color-scheme='dark'] #l_header,
[data-user-color-scheme='dark'] #l_main .post,
[data-user-color-scheme='dark'] #l_side .widget,
[data-user-color-scheme='dark'] #rightmenu-content {
  background-color: #282c34;
}
[data-user-color-scheme='dark'] a,
[data-user-color-scheme='dark'] .widget.text .content a {
  color: #abb2bf;
}
[data-user-color-scheme='dark'] a:hover,
[data-user-color-scheme='dark'] .widget.text .content a:hover {
  color: #ff5722;
}
[data-user-color-scheme='dark'] #l_body #s-top.show.hl {
  background: #5c5e63;
}
[data-user-color-scheme='dark'] textarea.el-textarea__inner {
  background: none !important;
}
[data-user-color-scheme='dark'] #desktopNavTitle {
  display: none !important;
}
[data-user-color-scheme='dark'] #githubEmoji {
  display: block !important;
}
[data-user-color-scheme='dark'] .post_read {
  background-color: #282c34 !important;
}
[data-user-color-scheme='dark'] #BKG {
  background-image: url("/blog/assets/images/background.jpg") !important;
}
[data-user-color-scheme='dark'] #l_main .post,
[data-user-color-scheme='dark'] #l_side .widget,
[data-user-color-scheme='dark'] #rightmenu-content {
  box-shadow: none;
}
@media screen and (prefers-color-scheme: dark) and (max-width: 500px) {
  .l_header .m_search {
    background: var(--color-site-bg) !important;
  }
}

  </style>

  <link rel="stylesheet" href="/blog/css/style.css" media="print" onload="this.media='all';this.onload=null">
  <noscript><link rel="stylesheet" href="/blog/css/style.css"></noscript>
  
    <script>
      var userColorScheme=localStorage.getItem("user-color-scheme")
      if(userColorScheme){
        document.documentElement.setAttribute("data-user-color-scheme", userColorScheme);
      }
    </script>
  
  


  <script>
  document.addEventListener("error", function(e) {
    const elem = e.target;
    const parentElem = e.target.parentElement;
    const parentElemClass = parentElem.classList.toString();
    const pParentElemClass = parentElem.parentElement.classList.toString();
    if (elem.tagName.toLowerCase() !== 'img') {
        return;
    }
    elem.classList.add('fix-cursor-default', 'error');
    if(parentElemClass === 'fancybox' && pParentElemClass === 'fancybox') {
      parentElem.parentElement.classList.add('hideFancybox');
      parentElem.parentElement.classList.remove('fancybox');
      parentElem.classList.remove('fancybox');
    } else if(parentElemClass === 'img-bg' && pParentElemClass === 'img-wrap') {
      parentElem.parentElement.classList.add('hideFancybox');
    } else if(parentElemClass === 'author') {
      parentElem.parentElement.classList.add('fix-author-imgError');
    } else if(parentElemClass.indexOf('tk-avatar') != -1 ) {
      parentElem.parentElement.classList.add('fix-avatar-imgError');
    }
  }, true);
  </script>
</head>

  <body>
    

<header id="l_header" class="l_header auto shadow show" style='opacity: 0' >
  <div class='container'>
  <div id='wrapper'>
    <div class='nav-sub'>
      <p class="title fix-header-title"></p>
      <ul class='switcher nav-list-h m-phone' id="pjax-header-nav-list">
        <li><a id="s-comment" class="fad fa-comments fa-fw" target="_self" href='javascript:void(0)'></a></li>
        
          <li><a id="s-toc" class="s-toc fad fa-list fa-fw" target="_self" href='javascript:void(0)'></a></li>
        
      </ul>
    </div>
		<div class="nav-main">
      
        
        <a id="desktopNavTitle" class="title flat-box" target="_self" href='/blog/'>
          
          
          
            JASON
          
        </a>
        <a id="githubEmoji" class="title flat-box" style="display: none;" target="_self" href='/blog/'>
          <svg class="profile-color-modes" height="45" viewBox="0 0 106 60" fill="none" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><g class="profile-color-modes-illu-group profile-color-modes-illu-red"><path d="M37.5 58.5V57.5C37.5 49.768 43.768 43.5 51.5 43.5V43.5C59.232 43.5 65.5 49.768 65.5 57.5V58.5"></path></g><g class="profile-color-modes-illu-group profile-color-modes-illu-orange"><path d="M104.07 58.5C103.401 55.092 97.7635 54.3869 95.5375 57.489C97.4039 54.6411 99.7685 48.8845 94.6889 46.6592C89.4817 44.378 86.1428 50.1604 85.3786 54.1158C85.9519 50.4768 83.7226 43.294 78.219 44.6737C72.7154 46.0534 72.7793 51.3754 74.4992 55.489C74.169 54.7601 72.4917 53.3567 70.5 52.8196"></path></g><g class="profile-color-modes-illu-group profile-color-modes-illu-purple"><path d="M5.51109 58.5V52.5C5.51109 41.4543 14.4654 32.5 25.5111 32.5C31.4845 32.5 36.8464 35.1188 40.5111 39.2709C40.7212 39.5089 40.9258 39.7521 41.1245 40"></path><path d="M27.511 49.5C29.6777 49.5 28.911 49.5 32.511 49.5"></path><path d="M27.511 56.5C29.6776 56.5 26.911 56.5 30.511 56.5"></path></g><g class="profile-color-modes-illu-group profile-color-modes-illu-green"><circle cx="5.5" cy="12.5" r="4"></circle><circle cx="18.5" cy="5.5" r="4"></circle><path d="M18.5 9.5L18.5 27.5"></path><path d="M18.5 23.5C6 23.5 5.5 23.6064 5.5 16.5"></path></g><g class="profile-color-modes-illu-group profile-color-modes-illu-blue"><g class="profile-color-modes-illu-frame"><path d="M40.6983 31.5C40.5387 29.6246 40.6456 28.0199 41.1762 27.2317C42.9939 24.5312 49.7417 26.6027 52.5428 30.2409C54.2551 29.8552 56.0796 29.6619 57.9731 29.6619C59.8169 29.6619 61.5953 29.8452 63.2682 30.211C66.0833 26.5913 72.799 24.5386 74.6117 27.2317C75.6839 28.8246 75.0259 33.7525 73.9345 37.5094C74.2013 37.9848 74.4422 38.4817 74.6555 39"></path></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968C40.7845 26.9182 40.086 21.8512 41.1762 20.2317C42.9939 17.5312 49.7417 19.6027 52.5428 23.2409C54.2551 22.8552 56.0796 22.6619 57.9731 22.6619C59.8169 22.6619 61.5953 22.8452 63.2682 23.211C66.0833 19.5913 72.799 17.5386 74.6117 20.2317C75.6839 21.8246 75.0259 26.7525 73.9345 30.5094C75.1352 32.6488 75.811 35.2229 75.811 38.2283C75.811 38.49 75.8058 38.7472 75.7957 39"></path><path d="M49.4996 33V35.6757"></path><path d="M67.3375 33V35.6757"></path></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968C40.7845 26.9182 40.086 21.8512 41.1762 20.2317C42.9939 17.5312 49.7417 19.6027 52.5428 23.2409C54.2551 22.8552 56.0796 22.6619 57.9731 22.6619C59.8169 22.6619 61.5953 22.8452 63.2682 23.211C66.0833 19.5913 72.799 17.5386 74.6117 20.2317C75.6839 21.8246 75.0259 26.7525 73.9345 30.5094C75.1352 32.6488 75.811 35.2229 75.811 38.2283C75.811 38.49 75.8058 38.7472 75.7957 39"></path></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968C40.7845 26.9182 40.086 21.8512 41.1762 20.2317C42.9939 17.5312 49.7417 19.6027 52.5428 23.2409C54.2551 22.8552 56.0796 22.6619 57.9731 22.6619C59.8169 22.6619 61.5953 22.8452 63.2682 23.211C66.0833 19.5913 72.799 17.5386 74.6117 20.2317C75.6839 21.8246 75.0259 26.7525 73.9345 30.5094C75.1352 32.6488 75.811 35.2229 75.811 38.2283C75.811 38.49 75.8058 38.7472 75.7957 39"></path><path d="M49.4996 33V35.6757"></path><path d="M67.3375 33V35.6757"></path></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968C40.7845 26.9182 40.086 21.8512 41.1762 20.2317C42.9939 17.5312 49.7417 19.6027 52.5428 23.2409C54.2551 22.8552 56.0796 22.6619 57.9731 22.6619C59.8169 22.6619 61.5953 22.8452 63.2682 23.211C66.0833 19.5913 72.799 17.5386 74.6117 20.2317C75.6839 21.8246 75.0259 26.7525 73.9345 30.5094C75.1352 32.6488 75.811 35.2229 75.811 38.2283C75.811 38.49 75.8058 38.7472 75.7957 39"></path></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968C40.7845 26.9182 40.086 21.8512 41.1762 20.2317C42.9939 17.5312 49.7417 19.6027 52.5428 23.2409C54.2551 22.8552 56.0796 22.6619 57.9731 22.6619C59.8169 22.6619 61.5953 22.8452 63.2682 23.211C66.0833 19.5913 72.799 17.5386 74.6117 20.2317C75.6839 21.8246 75.0259 26.7525 73.9345 30.5094C75.1352 32.6488 75.811 35.2229 75.811 38.2283C75.811 38.49 75.8058 38.7472 75.7957 39"></path><path d="M49.4996 33V35.6757"></path><path d="M67.3375 33V35.6757"></path></g><g class="profile-color-modes-illu-frame"><path d="M73.4999 40.2236C74.9709 38.2049 75.8108 35.5791 75.8108 32.2283C75.8108 29.2229 75.1351 26.6488 73.9344 24.5094C75.0258 20.7525 75.6838 15.8246 74.6116 14.2317C72.7989 11.5386 66.0832 13.5913 63.2681 17.211C61.5952 16.8452 59.8167 16.6619 57.973 16.6619C56.0795 16.6619 54.2549 16.8552 52.5427 17.2409C49.7416 13.6027 42.9938 11.5312 41.176 14.2317C40.0859 15.8512 40.7843 20.9182 41.9084 24.6968C41.003 26.3716 40.4146 28.3065 40.2129 30.5"></path><path d="M82.9458 30.5471L76.8413 31.657"></path><path d="M76.2867 34.4319L81.8362 37.7616"></path><path d="M49.4995 27.8242V30.4999"></path><path d="M67.3374 27.8242V30.4998"></path></g><g class="profile-color-modes-illu-frame"><path d="M45.3697 34.2658C41.8877 32.1376 39.7113 28.6222 39.7113 23.2283C39.7113 20.3101 40.3483 17.7986 41.4845 15.6968C40.3605 11.9182 39.662 6.85125 40.7522 5.23168C42.5699 2.53117 49.3177 4.6027 52.1188 8.24095C53.831 7.85521 55.6556 7.66186 57.5491 7.66186C59.3929 7.66186 61.1713 7.84519 62.8442 8.21095C65.6593 4.59134 72.375 2.5386 74.1877 5.23168C75.2599 6.82461 74.6019 11.7525 73.5105 15.5094C74.7112 17.6488 75.3869 20.2229 75.3869 23.2283C75.3869 28.6222 73.2105 32.1376 69.7285 34.2658C70.8603 35.5363 72.6057 38.3556 73.3076 40"></path><path d="M49.0747 19.8242V22.4999"></path><path d="M54.0991 28C54.6651 29.0893 55.7863 30.0812 57.9929 30.0812C59.0642 30.0812 59.8797 29.8461 60.5 29.4788"></path><path d="M66.9126 19.8242V22.4999"></path><path d="M33.2533 20.0237L39.0723 22.1767"></path><path d="M39.1369 25.0058L33.0935 27.3212"></path><path d="M81.8442 19.022L76.0252 21.1751"></path><path d="M75.961 24.0041L82.0045 26.3196"></path></g><g class="profile-color-modes-illu-frame"><path d="M73.4999 40.2236C74.9709 38.2049 75.8108 35.5791 75.8108 32.2283C75.8108 29.2229 75.1351 26.6488 73.9344 24.5094C75.0258 20.7525 75.6838 15.8246 74.6116 14.2317C72.7989 11.5386 66.0832 13.5913 63.2681 17.211C61.5952 16.8452 59.8167 16.6619 57.973 16.6619C56.0795 16.6619 54.2549 16.8552 52.5427 17.2409C49.7416 13.6027 42.9938 11.5312 41.176 14.2317C40.0859 15.8512 40.7843 20.9182 41.9084 24.6968C41.003 26.3716 40.4146 28.3065 40.2129 30.5"></path><path d="M82.9458 30.5471L76.8413 31.657"></path><path d="M76.2867 34.4319L81.8362 37.7616"></path><path d="M49.4995 27.8242V30.4999"></path><path d="M67.3374 27.8242V30.4998"></path></g><g class="profile-color-modes-illu-frame"><path d="M40.6983 31.5C40.5387 29.6246 40.6456 28.0199 41.1762 27.2317C42.9939 24.5312 49.7417 26.6027 52.5428 30.2409C54.2551 29.8552 56.0796 29.6619 57.9731 29.6619C59.8169 29.6619 61.5953 29.8452 63.2682 30.211C66.0833 26.5913 72.799 24.5386 74.6117 27.2317C75.6839 28.8246 75.0259 33.7525 73.9345 37.5094C74.2013 37.9848 74.4422 38.4817 74.6555 39"></path></g></g></svg>
        </a>
      
			<div class='menu navigation'>
				<ul class='nav-list-h m-pc'>
          
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/blog/
                  
                  
                  
                    id="blog"
                  >
                  <i class='fad fa-helmet-battle GREENSEA fa-fw'></i>首页
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/blog/categories/
                  
                  
                  
                    id="blogcategories"
                  >
                  <i class='fad fa-folder-open CARROT fa-fw'></i>分类
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/blog/tags/
                  
                  
                  
                    id="blogtags"
                  >
                  <i class='fad fa-tags PETERRIVE fa-fw'></i>标签
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/blog/archives/
                  
                  
                  
                    id="blogarchives"
                  >
                  <i class='fad fa-archive WETASPHALT fa-fw'></i>归档
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" 
                  
                  
                  >
                  <i class='fad fa-align-justify POMEGRANATE fa-fw'></i>更多
                </a>
                
                  <ul class="list-v">
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/blog/docs/lodash/collection
                  
                  
                  
                    id="blogdocslodashcollection"
                  >
                  更好的 lodash 文档
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/blog/docs/moment/parsing
                  
                  
                  
                    id="blogdocsmomentparsing"
                  >
                  更好的 moment 文档
                </a>
                
              </li>
            
          
                    
                  </ul>
                
              </li>
            
          
          
				</ul>
			</div>
      <div class="m_search">
        <form name="searchform" class="form u-search-form">
          <i class="icon fad fa-search fa-fw"></i>
          <input type="text" class="input u-search-input" placeholder="想找些什么~" />
        </form>
      </div>

			<ul class='switcher nav-list-h m-phone'>
				
					<li><a class="s-search fad fa-search fa-fw" target="_self" href='javascript:void(0)'></a></li>
				
				<li>
          <a class="s-menu fad fa-bars fa-fw" target="_self" href='javascript:void(0)'></a>
          <ul class="menu-phone list-v navigation white-box">
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/blog/
                  
                  
                  
                    id="blog"
                  >
                  <i class='fad fa-helmet-battle GREENSEA fa-fw'></i>首页
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/blog/categories/
                  
                  
                  
                    id="blogcategories"
                  >
                  <i class='fad fa-folder-open CARROT fa-fw'></i>分类
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/blog/tags/
                  
                  
                  
                    id="blogtags"
                  >
                  <i class='fad fa-tags PETERRIVE fa-fw'></i>标签
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/blog/archives/
                  
                  
                  
                    id="blogarchives"
                  >
                  <i class='fad fa-archive WETASPHALT fa-fw'></i>归档
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" 
                  
                  
                  >
                  <i class='fad fa-align-justify POMEGRANATE fa-fw'></i>更多
                </a>
                
                  <ul class="list-v">
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/blog/docs/lodash/collection
                  
                  
                  
                    id="blogdocslodashcollection"
                  >
                  更好的 lodash 文档
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/blog/docs/moment/parsing
                  
                  
                  
                    id="blogdocsmomentparsing"
                  >
                  更好的 moment 文档
                </a>
                
              </li>
            
          
                    
                  </ul>
                
              </li>
            
          
            
          </ul>
        </li>
			</ul>
		</div>
	</div>
  </div>
</header>

    <div id="l_body">
      <div id="l_cover">
  
    
      <!-- see: /layout/_partial/scripts/coverCtrl.ejs -->
        <div id="none" class='cover-wrapper post search' style="display: none;">
          
            <div class='cover-bg' style='background-image:url()'></div>
          
          <div class='cover-body'>
  <div class='top'>
    
    
      <p class="title">攻城狮与捕虫员</p>
    
    
  </div>
  <div class='bottom'>
    
      <div class="m_search">
        <form name="searchform" class="form u-search-form">
          <input type="text" class="input u-search-input" placeholder="想找些什么~" />
          <i class="icon fad fa-search fa-fw"></i>
        </form>
      </div>
    
    <div class='menu navigation'>
      <div class='list-h'>
        
          
            <a href="/blog/categories/"
              
              
              id="blogcategories">
              <p>分类</p>
            </a>
          
            <a href="/blog/tags/"
              
              
              id="blogtags">
              <p>标签</p>
            </a>
          
            <a href="/blog/archives/"
              
              
              id="blogarchives">
              <p>归档</p>
            </a>
          
            <a href="/blog/docs/lodash/collection"
              
              
              id="blogdocslodashcollection">
              <p>lodash</p>
            </a>
          
            <a href="/blog/docs/moment/parsing"
              
              
              id="blogdocsmomentparsing">
              <p>moment</p>
            </a>
          
        
      </div>
    </div>
  </div>
</div>

          <div id="scroll-down" style="display: none;"><i class="fa fa-chevron-down scroll-down-effects"></i></div>
        </div>
    
  
  </div>

      <div id="safearea">
        <div class="body-wrapper" id="pjax-container">
          


<div id="l_main" class=''>
  <article class=" article post white-box reveal md shadow article-type-post" id="post" itemscope itemprop="blogPost">
  


  
  <div class="article-meta" id="top">
    
    
    
      <h1 class="title">
        👽 学习 - Ionic
      </h1>
      <div class='new-meta-box'>
        
          
            
<div class='new-meta-item author'>
  <a class='author' href="https://q-jason.github.io/blog/" rel="nofollow">
    <img no-lazy src="https://avatars.githubusercontent.com/u/28495915?v=4">
    <p>JASON</p>
  </a>
</div>

          
        
          
            
  <div class="new-meta-item wordcount">
    <a class='notlink'>
      <i class="fad fa-keyboard PETERRIVE fa-fw" aria-hidden="true"></i>
      <p>字数：3.4k 字</p>
    </a>
  </div>
  <div class="new-meta-item readtime">
    <a class='notlink'>
      <i class="fad fa-hourglass-half BELIZEHOLE fa-fw" aria-hidden="true"></i>
      <p>时长：16 分钟</p>
    </a>
  </div>


          
        
      </div>
    
  </div>


  
  
  
  <p>吐槽：<br>谁没事用 angular 啊！各个版本跨度大，上网找文档都费劲 😡，<br>可是没办法，工作中需要，向生活低头 😔</p>
<p>不过 ionic 这个框架还是不错的，现在可以用 vue 和 react 进行开发，组件样式也很好看，<br>但是不支持打包国内的小程序，跨端不如用 uni-app，更适合国人一些 😇</p>
<span id="more"></span>

<h2 id="完整技术栈以及顺序："><a href="#完整技术栈以及顺序：" class="headerlink" title="完整技术栈以及顺序："></a>完整技术栈以及顺序：</h2><ul>
<li>typescript（angular 要求使用，vue、react 不硬性要求）</li>
<li>angular/vue/react</li>
<li>ionic</li>
<li>android、ios</li>
</ul>
<hr>
<h2 id="typescript"><a href="#typescript" class="headerlink" title="typescript"></a>typescript</h2><blockquote>
<p>基于 ES 的增强语言，完全兼容 ES 的写法。<br>增加了类型定义、类型检测、接口等强语言特性。<br>学习曲线很友好，只有接口部分较为复杂，需要理解用法。</p>
</blockquote>
<pre><code class="typescript">interface Dog &#123;
  name: string
&#125;

let obj1: &#123; [ propName: string ]: FormControl &#125; | null = null;
let obj2: Dog | null = null;
let obj3: &#123; name: string &#125; | null = null;

let arr1: Array&lt;string&gt; | Array&lt;Array&lt;string&gt;&gt; = [];
let arr2: Array&lt;Dog&gt; | Array&lt;Array&lt;Dog&gt;&gt; = [];
let arr3: Array&lt;&#123; name: string &#125;&gt; = [];
</code></pre>
<pre><code class="typescript">/**
 *  定义一个接口
 *  key 后面加 ? 代表这个属性/方法可有可无
 **/
interface PersonBase &#123;
  name: string
  age: number
  country?: string
  
  getName(): string,

  getCountry?(): string

  sayName(): void
&#125;

// 定义一个对象，使其实现接口
let user: PersonBase = &#123;
  name: &#39;jason&#39;,
  age: 18,
  country: &#39;中国&#39;,

  getName(): string &#123;
    return this.name
  &#125;,
  getCountry(): string &#123;
    return this.country
  &#125;,
  sayName(): void &#123;
    console.log(this.name)
  &#125;
&#125;

// 定义一个类，使其实现接口
class User implements PersonBase &#123;
  name: string
  age: number

  getName(): string &#123;
    return this.name
  &#125;

  sayName() &#123;
    console.log(this.name)
  &#125;
&#125;
</code></pre>
<hr>
<h2 id="angular"><a href="#angular" class="headerlink" title="angular"></a>angular</h2><p>一个很蛋疼的框架，国内的开发基本都不用这玩意<br>使用起来也不如 vue 方便</p>
<h3 id="基本的模板语法"><a href="#基本的模板语法" class="headerlink" title="基本的模板语法"></a>基本的模板语法</h3><pre><code class="html">&lt;!-- 通过标签向组件传递数据 --&gt;
&lt;!-- [dataA] 为单向绑定 --&gt;
&lt;!-- [(dataB)] 为双向绑定（语法糖） --&gt;
&lt;!-- (dataAChange) 为事件，其中 $event 为 emit 时的参数 --&gt;
&lt;app-list
  [dataA]=&quot;dataA&quot;
  [(dataB)]=&quot;dataB&quot;
  (dataAChange)=&quot;this.dataA = $event&quot;&gt;&lt;/app-list&gt;

&lt;!-- ngModel 解析： --&gt;
&lt;!-- [ngModel]：组件 =&gt; input --&gt;
&lt;!-- (ngModel)：input =&gt; 组件 --&gt;
&lt;!-- ([ngModel])： 为双向绑定 --&gt;
&lt;input type=&#39;text&#39; [ngModel]=&#39;username&#39; /&gt;
&lt;input type=&#39;text&#39; (ngModel)=&#39;username&#39; /&gt;
&lt;input type=&#39;text&#39; ([ngModel])=&#39;username&#39; /&gt;

&lt;!-- 通过 [hidden] 来确定组件是否显示 --&gt;
&lt;p [hidden]=&quot;isShow&quot;&gt;&lt;/p&gt;

&lt;!-- 通过 ngIf 来确定组件是否渲染 --&gt;
&lt;ul *ngIf=&quot;isShow&quot;&gt;
  &lt;!-- For 指令可以指定局部变量，常用的有以下 --&gt;
  &lt;!-- let i = index --&gt;
  &lt;!-- let count = count --&gt;
  &lt;!-- let first = first --&gt;
  &lt;!-- let last = last --&gt;
  &lt;!-- let odd = odd --&gt;
  &lt;!-- let even = even --&gt;
  &lt;li *ngFor=&quot;let item of data; let i = index;&quot;&gt;
    &#123;&#123; i &#125;&#125;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;!-- 原生事件 angular 做了封装 --&gt;
&lt;button (click)=&quot;submit()&quot;&gt;
  点击我触发
&lt;/button&gt;
</code></pre>
<h3 id="生成一个组件"><a href="#生成一个组件" class="headerlink" title="生成一个组件"></a>生成一个组件</h3><blockquote>
<p>建议通过命令行的方式生成</p>
</blockquote>
<pre><code class="bash"># 生成一个组件
ng generate component &lt;component-name&gt;
# 将会在 src/app 目录下生成 &lt;component-name&gt; 目录
# 并在 app.module.ts 引入并注册
</code></pre>
<h3 id="组件的通讯"><a href="#组件的通讯" class="headerlink" title="组件的通讯"></a>组件的通讯</h3><blockquote>
<p>父子组件的通讯就像 vue 一样是单向数据流的。<br>属性向下、事件向上。</p>
</blockquote>
<pre><code class="typescript">/**
 *  子组件 component.js
 **/
export class ListComponent implements OnInit &#123;
  /**
   *  通过 @Input 装饰器修饰属性来接收父组件传来的值
   *  Input 在 @angular/core 模块中
   **/
  @Input() title?: string
  @Input() data: Array&lt;string&gt; = []
  
  /**
   *  通过 @Output 装饰器修饰属性来向父组件发送消息
   *  被 Output 修饰的属性，值应该定义为 EventEmitter 的实例
   *  Output 和 EventEmitter 在 @angular/core 模块中
   *  
   *  若想实现 &quot;双向绑定&quot; 的语法糖，事件的 key 必须为 inputChange 模式
   *  这样父组件模板中可以 [(input)]=&quot;data&quot; 的形式即可实现 &quot;双向绑定&quot;
   **/
  @Output() dataChange = new EventEmitter&lt;Array&lt;string&gt;&gt;()
  
  // 在组件内部使用 this.dataChange.emit(payload) 向父组件发出事件
  onClick () &#123;
    this.dataChange.emit([&#39;a&#39;, &#39;b&#39;])
  &#125;
&#125;
</code></pre>
<pre><code class="html">&lt;!-- 父组件 component.html --&gt;
&lt;app-list
  [title]=&quot;title&quot;
  [data]=&quot;data&quot;
  (dataChange)=&quot;this.data = $event&quot;&gt;&lt;/app-list&gt;
&lt;!-- OR --&gt;
&lt;app-list
  [title]=&quot;title&quot;
  [(data)]=&quot;data&quot;&gt;&lt;/app-list&gt;
</code></pre>
<h3 id="组件的计算属性"><a href="#组件的计算属性" class="headerlink" title="组件的计算属性"></a>组件的计算属性</h3><blockquote>
<p>可以通过 getter 实现计算属性</p>
</blockquote>
<pre><code class="typescript">export class AppComponent implements OnChanges &#123;
  name: string = &#39;jason&#39;
  get fullName (): string &#123;
    return &#39;my is &#39; + this.name
  &#125;
&#125;
</code></pre>
<h3 id="组件属性的监听"><a href="#组件属性的监听" class="headerlink" title="组件属性的监听"></a>组件属性的监听</h3><blockquote>
<p>ngOnChanges 方法可以监听 @Input 进来的属性<br>使用 set 可以监听组件内部的属性</p>
</blockquote>
<pre><code class="typescript">export class AppComponent implements OnChanges &#123;
  @Input() data: Array&lt;string&gt; = []
  
  _name: String = &#39;&#39;
  set name (val: String) &#123;
    // 在 set 中实现监听
    this._name = val
  &#125;

  // 当 data 改变时会触发 
  ngOnChanges (changes: SimpleChanges) &#123;
    /**
     *  &#123;
     *    data: &#123;
     *      // 新值
     *      currentValue,
     *      // 是否为传入时触发
     *      firstChange,
     *      // 老值，首次传入时触发时，此值为 undefined
     *      previousValue
     *    &#125;
     *  &#125;
     **/
    console.log(changes)
  &#125;
&#125;
</code></pre>
<h3 id="组件的插槽用法"><a href="#组件的插槽用法" class="headerlink" title="组件的插槽用法"></a>组件的插槽用法</h3><blockquote>
<p>主要使用内置的 ng-content 标签实现。<br>ng-content 默认显示所有父组件定义的内容。<br>可以通过 select 属性来指定显示位置，匹配规则为 css 选择器。</p>
</blockquote>
<pre><code class="html">&lt;!-- 子组件(app-list) component.html  --&gt;
&lt;div&gt;
  &lt;ng-content select=&quot;[slot=&#39;header&#39;]&quot;&gt;&lt;/ng-content&gt;
  &lt;ng-content&gt;&lt;/ng-content&gt;
  &lt;ng-content select=&quot;[slot=&#39;footer&#39;]&quot;&gt;&lt;/ng-content&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="html">&lt;!-- 父组件 component.html --&gt;
&lt;app-list&gt;
  &lt;div&gt;我是内容，匹配子组件的 ng-content&lt;/div&gt;
  &lt;div slot=&quot;header&quot;&gt;我是头部，匹配子组件的 ng-content[slot=&quot;header&quot;]&lt;/div&gt;
  &lt;div slot=&quot;footer&quot;&gt;我是内容，匹配子组件的 ng-content[slot=&quot;footer&quot;]&lt;/div&gt;
&lt;/app-list&gt;
</code></pre>
<h3 id="管道（vue-中的过滤器）"><a href="#管道（vue-中的过滤器）" class="headerlink" title="管道（vue 中的过滤器）"></a>管道（vue 中的过滤器）</h3><blockquote>
<p>将值进行处理后显示。<br>angular 内置了非常多的实用 pipe，文档如下：<br><a target="_blank" rel="noopener" href="https://angular.cn/api/common#%E7%AE%A1%E9%81%93">https://angular.cn/api/common#%E7%AE%A1%E9%81%93</a><br>自定义方法如下：</p>
</blockquote>
<pre><code class="typescript">/**
 *  创建 pipe 的 ts 文件
 *  用 Pipe 修饰器修饰
 *  继承 PipeTransform 接口
 *  在 @NgModule declarations 中注册
 **/
import &#123; Pipe, PipeTransform &#125; from &#39;@angular/core&#39;;

@Pipe(&#123; name: &#39;hash&#39; &#125;)

export class hashPipe implements PipeTransform &#123;
  transform (value: any, p1?: any, p2?: any): string &#123;
    return value + &#39;...&#39; + p1 + p2
  &#125;
&#125;
</code></pre>
<pre><code class="html">&lt;!-- 注意传参方式，很特别 --&gt;
&#123;&#123; 1621324650486 | date:"YYYY/MM/dd HH:mm:SS" &#125;&#125;
&#123;&#123; fullName | hash: 50: 20 &#125;&#125;
</code></pre>
<h3 id="表单（暂时放一放，用法不确定）"><a href="#表单（暂时放一放，用法不确定）" class="headerlink" title="表单（暂时放一放，用法不确定）"></a>表单（暂时放一放，用法不确定）</h3><blockquote>
<p>angular 提供了两种方法实现表单数据的管理<br>简单来说，复杂的用 “响应式表单”，简单的用 “模板驱动表单”<br>在实际情况中，可以只用 “响应式表单”，能满足所有情况下使用。</p>
</blockquote>
<p>主要使用 @angular/forms 模块的 FormGroup, FormControl。<br>具体看代码吧</p>
<pre><code class="typescript">import &#123; FormGroup, FormControl &#125; from &quot;@angular/forms&quot;;

export class FormComponent implements OnInit &#123;
  form: FormGroup = new FormGroup(&#123;
    username: new FormControl(&#39;默认值&#39;),
    password: new FormControl(&#39;默认值&#39;)
  &#125;)
 
  submit () &#123;
    // 输出 FormGroup 实例
    console.log(this.form)
    // 输出 FormControl 实例组成的对象
    console.log(this.form.controls)
    // 输出 value 组成的对象
    console.log(this.form.value)
  &#125;
  
  ngOnInit () &#123;
    // 可以通过 addControl 方法动态向 FormGroup 实例中添加控件
    this.form.addControl(&#39;gender&#39;, new FormControl(&#39;男&#39;))
  &#125;
&#125;
</code></pre>
<pre><code class="html">&lt;form 
  [formGroup]=&quot;form&quot;
  (submit)=&quot;submit()&quot;&gt;
  &lt;div&gt;
    用户名：
    &lt;input formControlName=&quot;username&quot; type=&quot;text&quot;&gt;
  &lt;/div&gt;
  &lt;div&gt;
    密码：
    &lt;input formControlName=&quot;password&quot; type=&quot;password&quot;&gt;
  &lt;/div&gt;
  &lt;div&gt;
    性别：
    &lt;input formControlName=&quot;gender&quot; type=&quot;radio&quot; value=&quot;男&quot;&gt;
    &lt;input formControlName=&quot;gender&quot; type=&quot;radio&quot; value=&quot;女&quot;&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;button&gt;提交&lt;/button&gt;
  &lt;/div&gt;
&lt;/form&gt;
</code></pre>
<h3 id="服务基础"><a href="#服务基础" class="headerlink" title="服务基础"></a>服务基础</h3><blockquote>
<p>服务是 angular 比较重要，并且强大的功能。<br>简单来说就是预先定义好 “服务类”，类中有属性和方法，<br>在注入到组件中，使组件可以使用 “服务类” 中的属性和方法<br>并且不同的组件可以通过 “作用域相同” 的 “服务类” 共享数据，类似于 vuex。</p>
</blockquote>
<pre><code class="bash"># 命令行生成一个服务
ng generate service heroes/hero
</code></pre>
<pre><code class="typescript">// src/app/heroes/hero.service.ts
import &#123; Injectable &#125; from &#39;@angular/core&#39;;

@Injectable(&#123;
  // 表示注入到最顶层，在整个应用中都是可见的
  // 是最顶层的注入方式
  providedIn: &#39;root&#39;,
&#125;)

export class HeroService &#123;
  constructor() &#123; &#125;
&#125;
</code></pre>
<pre><code class="typescript">// 在组件中，或服务中（服务也可以注入服务）
export class AppComponent implements OnInit &#123;
  // 在构造器中注入，注意加 private 修饰符。
  constructor (private heroService: HeroService) &#123;
  &#125;
  
  async ngOnInit () &#123;
    // 在内部即可调用
    console.log(this.heroService)
  &#125;
&#125;
</code></pre>
<h3 id="服务的实例以及作用域"><a href="#服务的实例以及作用域" class="headerlink" title="服务的实例以及作用域"></a>服务的实例以及作用域</h3><blockquote>
<p>服务可以注册到 “root”、”模块”、”组件” 这三个不同的作用域中。<br>并且按照 “先内后外” 的顺序确定作用域。<br>服务也可以注入服务中，但是需要在相同的作用域中。</p>
</blockquote>
<pre><code class="typescript">// 在服务内部 providedIn: &#39;root&#39; 代表注册到最顶级作用域
// 在整个项目中都可以使用，并且共用一个服务实例
@Injectable(&#123;
  providedIn: &#39;root&#39;
&#125;)
export class HeroService &#123;
&#125;
</code></pre>
<pre><code class="typescript">// 在模块中，指定注入服务
// 该模块中的所有组件、服务，共享一个服务实例
@NgModule(&#123;
  // ...
  providers: [
    HeroService
  ]
  // ...
&#125;)
export class AppModule &#123;
&#125;
</code></pre>
<pre><code class="typescript">// 在组件中注册服务
// 此时只有在当前的组件中才能使用该服务
// 并且与其他的组件不会共享同一个实例。
@NgModule(&#123;
  // ...
  providers: [
    HeroService
  ]
  // ...
&#125;)
export class AppModule &#123;
&#125;
</code></pre>
<h3 id="SPA-路由-基础"><a href="#SPA-路由-基础" class="headerlink" title="SPA 路由 - 基础"></a>SPA 路由 - 基础</h3><blockquote>
<p>依赖 @angular/router 模块</p>
</blockquote>
<pre><code class="typescript">// 创建 app-routing.module.ts
import &#123; NgModule &#125; from &#39;@angular/core&#39;;
import &#123; RouterModule, Routes &#125; from &#39;@angular/router&#39;;

import &#123; ListComponent &#125; from &quot;./pages/list/list.component&quot;;
import &#123; ListChildComponent &#125; from &quot;./pages/list/list-child/list-child.component&quot;;
import &#123; DetailComponent &#125; from &quot;./pages/detail/detail.component&quot;;

const routes: Routes = [
  &#123;
    path: &#39;list&#39;,
    component: ListComponent,
    children: [
      &#123;
        path: &#39;child&#39;,
        component: ListChildComponent
      &#125;
    ]
  &#125;,
  &#123; path: &#39;detail&#39;, component: DetailComponent &#125;,

  // 通配符路由，写在最后
  &#123; path: &#39;**&#39;, redirectTo: &#39;list&#39; &#125;
];

@NgModule(&#123;
  imports: [ RouterModule.forRoot(routes) ],
  exports: [ RouterModule ]
&#125;)
export class AppRoutingModule &#123;
&#125;
</code></pre>
<pre><code class="typescript">// 在 app.module.ts 中导入路由模块
import &#123; AppRoutingModule &#125; from &#39;./app-routing.module&#39;;

@NgModule(&#123;
  // ....
  imports: [
    AppRoutingModule
  ]
  // ....
&#125;)
</code></pre>
<pre><code class="html">&lt;!-- 在组件中使用 router-outlet 标签渲染页面组件 --&gt;
&lt;router-outlet&gt;&lt;/router-outlet&gt;
</code></pre>
<h3 id="SPA-路由-跳转和传参"><a href="#SPA-路由-跳转和传参" class="headerlink" title="SPA 路由 - 跳转和传参"></a>SPA 路由 - 跳转和传参</h3><blockquote>
<p>有两种方式，html 和 js 传参。</p>
</blockquote>
<pre><code class="html">&lt;!-- /detail?id=10 --&gt;
&lt;a routerLink=&quot;/detail&quot; [queryParams]=&quot;&#123; id: 10 &#125;&quot;&gt;detail&lt;/a&gt;

&lt;!-- /detail/:id/:other =&gt; /detail/10 --&gt;
&lt;a routerLink=&quot;/detail/10/other&quot;&gt;detail&lt;/a&gt;
&lt;a [routerLink]=&quot;[&#39;/detail&#39;, 10, &#39;other&#39;]&quot;&gt;detail&lt;/a&gt;

&lt;!-- queryParamsHandling 参数 --&gt;
&lt;!-- 值为 preserve，则放弃当前页面的查询参数，用自定义的查询参数，跳转页面 --&gt;
&lt;!-- 值为 merge，则保留当前页面查询参数，与新的查询参数进行合并后，跳转给下一个页面使用 --&gt;

&lt;!-- 跳转前：/list?pagenum=20&amp;page=1 --&gt;
&lt;a routerLink=&quot;/list&quot; [queryParams]=&quot;&#123; page: 2 &#125;&quot; queryParamsHandling=&quot;merge&quot;&gt;list&lt;/a&gt;
&lt;!-- 跳转后：/list?pagenum=20&amp;page=2 --&gt;
</code></pre>
<pre><code class="typescript">// 在 JS 中引入 Router 服务
import &#123; Router &#125; from &quot;@angular/router&quot;;

export class ListComponent implements OnInit &#123;

  // 注入 Router
  constructor (public router: Router) &#123;
  &#125;
  
  // 使用 router.navigate 方法进行跳转、传参
  go (path: string) &#123;
    this.router.navigate([&#39;/detail&#39;], &#123;
      queryParams: &#123;
        id: 10086
      &#125;
    &#125;)
    // =&gt; /detail?10086
    
    this.router.navigate([&#39;/detail&#39;, 10, &#39;other&#39;])
    // =&gt; /detail/10/other

    // 当前是 /list?pagenum=10&amp;page=1&amp;other=other
    this.router.navigate([&#39;/list&#39;], &#123;
      queryParamsHandling: &#39;merge&#39;,
      queryParams: &#123;
        page: 2
      &#125;
    &#125;)
    // =&gt; /list?pagenum=10&amp;page=2&amp;other=other
  &#125;

&#125;
</code></pre>
<h3 id="SPA-路由-接收参数"><a href="#SPA-路由-接收参数" class="headerlink" title="SPA 路由 - 接收参数"></a>SPA 路由 - 接收参数</h3><pre><code class="typescript">import &#123; ActivatedRoute &#125; from &quot;@angular/router&quot;;

export class DetailComponent implements OnInit &#123;

  // 需要注入 ActivatedRoute 服务
  constructor (private route: ActivatedRoute) &#123;
  &#125;

  ngOnInit (): void &#123;
    // http://localhost:4200/detail/10?id=10086

    // 从查询参数中获取
    this.route.queryParamMap.subscribe(params =&gt; &#123;
      console.log(
        params.get(&#39;id&#39;)
      )
      // =&gt; 10086
    &#125;);

    // 从路径中获取
    this.route.paramMap.subscribe(params =&gt; &#123;
      console.log(
        params.get(&#39;id&#39;)
      )
      // =&gt; 10
    &#125;);
  &#125;

&#125;
</code></pre>
<hr>
<h3 id="Http-请求"><a href="#Http-请求" class="headerlink" title="Http 请求"></a>Http 请求</h3><blockquote>
<p>angular 内置了 http 服务，注入即可在组件中使用。</p>
</blockquote>
<pre><code class="typescript">import &#123; HttpClientModule &#125; from &#39;@angular/common/http&#39;;

// 被弃用的
// import &#123; HttpModule &#125; from &#39;@angular/http&#39;;

@NgModule(&#123;
  // ...
  imports: [
    HttpClientModule
    // HttpModule
  ]
  // ...
&#125;)
</code></pre>
<pre><code class="typescript">import &#123; HttpClient &#125; from &#39;@angular/common/http&#39;

export class MyComp &#123;
  constructor (private http: HttpClient) &#123;
    this.http.get()
    this.http.post()
    this.http.put()
    this.http.delete()
    
    // 默认用 &quot;订阅(subscribe)&quot; 的方式处理异步(真心用不惯...)
    // 可以使用 toPromise 方法转为 Promise 方式处理
    this.http.get().toPromise()
      .then(res =&gt; &#123;
        // 想要获得真正的 json 数据对象，需要使用 json 方法，将数据 &quot;转一下&quot;
        // PS: res 中 _body 是请求响应的字符串，使用 JSON.parse 也可以正常获取。
        console.log(res.json())
        console.log(JSON.parse(res._body))
      &#125;)
      .catch()
  &#125;
&#125;
</code></pre>
<psw>也可以设置拦截器，这里暂不做深究了。</psw>

<h2 id="ionic3"><a href="#ionic3" class="headerlink" title="ionic3"></a>ionic3</h2><blockquote>
<p>ionic3 和 ionic4+ 提供的方法跨度比较大。<br>基本需要重新学习，至少路由部分是这样的。</p>
</blockquote>
<h3 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h3><div class="tag link"><a class="link-card" title="ionic3文档" target="_blank" rel="noopener" href="https://ionicframework.com/docs/v3/intro/installation/"><div class="left"><img src="https://ionicframework.com/docs/v3/img/ionic-side-icon.png"/></div><div class="right"><p class="text">ionic3文档</p><p class="url">https://ionicframework.com/docs/v3/intro/installation/</p></div></a></div>

<h3 id="命令行工具"><a href="#命令行工具" class="headerlink" title="命令行工具"></a>命令行工具</h3><pre><code class="bash"># 生成页面，pipe，服务等
# 建议使用该命令生成所需要的部分
ionic generate

# 生成页面可以指定路径
ionic generate page [name] --pagesDir [path]
</code></pre>
<h3 id="页面生命周期"><a href="#页面生命周期" class="headerlink" title="页面生命周期"></a>页面生命周期</h3><p><img src="ionic3-lifecycle.webp" alt="ionic3-lifecycle.webp"></p>
<h3 id="全局配置"><a href="#全局配置" class="headerlink" title="全局配置"></a>全局配置</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://ionicframework.com/docs/v3/api/config/Config/">https://ionicframework.com/docs/v3/api/config/Config/</a></p>
</blockquote>
<pre><code class="typescript">// 是否隐藏子页面上的选项卡，如果 true 不会在子页面上显示选项卡。
// 很奇葩的是这个值默认居然是 false。
tabsHideOnSubPages: false
</code></pre>
<h3 id="路由定义"><a href="#路由定义" class="headerlink" title="路由定义"></a>路由定义</h3><blockquote>
<p>是通过 @IonicPage 修饰符来定义页面，非常简单<br>如果用 ionic generate page 生成页面组件，则完全不用自己操心。</p>
</blockquote>
<h4 id="文档-1"><a href="#文档-1" class="headerlink" title="文档"></a>文档</h4><div class="tag link"><a class="link-card" title="相关文档" target="_blank" rel="noopener" href="https://ionicframework.com/docs/v3/api/navigation/IonicPage/"><div class="left"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png"/></div><div class="right"><p class="text">相关文档</p><p class="url">https://ionicframework.com/docs/v3/api/navigation/IonicPage/</p></div></a></div>

<h4 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h4><pre><code class="typescript">@IonicPage(&#123;
  // name 默认为组件的类名，常用于 this.navCtrl.push 时跳转。
  name: &#39;my-page&#39;,
  // segment 默认为组件的标签名，用于 url。
  segment: &#39;some-path&#39;
&#125;)
</code></pre>
<h3 id="渲染路由（ion-nav-组件）"><a href="#渲染路由（ion-nav-组件）" class="headerlink" title="渲染路由（ion-nav 组件）"></a>渲染路由（ion-nav 组件）</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://ionicframework.com/docs/v3/api/components/nav/Nav/">https://ionicframework.com/docs/v3/api/components/nav/Nav/</a></p>
</blockquote>
<h3 id="跳转页面、传参"><a href="#跳转页面、传参" class="headerlink" title="跳转页面、传参"></a>跳转页面、传参</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://ionicframework.com/docs/v3/api/navigation/NavController/">https://ionicframework.com/docs/v3/api/navigation/NavController/</a><br><a target="_blank" rel="noopener" href="https://ionicframework.com/docs/v3/api/components/nav/NavPush/">https://ionicframework.com/docs/v3/api/components/nav/NavPush/</a><br><a target="_blank" rel="noopener" href="https://ionicframework.com/docs/v3/api/components/nav/NavPop/">https://ionicframework.com/docs/v3/api/components/nav/NavPop/</a></p>
</blockquote>
<blockquote>
<p>tabs 页面跳转：<br><a target="_blank" rel="noopener" href="https://ionicframework.com/docs/v3/api/components/tabs/Tabs/">https://ionicframework.com/docs/v3/api/components/tabs/Tabs/</a></p>
</blockquote>
<h3 id="接收页面参数"><a href="#接收页面参数" class="headerlink" title="接收页面参数"></a>接收页面参数</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://ionicframework.com/docs/v3/api/navigation/NavParams/">https://ionicframework.com/docs/v3/api/navigation/NavParams/</a></p>
</blockquote>
<pre><code class="typescript">import &#123; NavParams &#125; from &#39;ionic-angular&#39;;

export class MyClass&#123;
 constructor(public navParams: NavParams)&#123;
   this.navParams.get(&#39;userParams&#39;);
 &#125;
&#125;
</code></pre>
<hr>

  
  
    
    <div class='footer'>
      
      
      
      
    </div>
  
  
    


  <div class='article-meta' id="bottom">
    <div class='new-meta-box'>
      
        
          
  <div class='new-meta-item category'>
    <a class='notlink'>
      <i class="fad fa-folder-open EMERALD fa-fw" aria-hidden="true"></i>
      <a class="category-link" href="/blog/categories/%E5%AD%A6%E4%B9%A0/">学习</a>
    </a>
  </div>


        
      
        
          
  
  <div class="new-meta-item meta-tags"><a class="tag" href="/blog/tags/typescript/" rel="nofollow"><i class="fad fa-hashtag WETASPHALT fa-fw" aria-hidden="true"></i><p>typescript</p></a></div> <div class="new-meta-item meta-tags"><a class="tag" href="/blog/tags/angular/" rel="nofollow"><i class="fad fa-hashtag WETASPHALT fa-fw" aria-hidden="true"></i><p>angular</p></a></div> <div class="new-meta-item meta-tags"><a class="tag" href="/blog/tags/ionic/" rel="nofollow"><i class="fad fa-hashtag WETASPHALT fa-fw" aria-hidden="true"></i><p>ionic</p></a></div>


        
      
        
          <div class="new-meta-item date" itemprop="dateUpdated" datetime="2021-12-17T09:46:35+00:00">
  <a class='notlink'>
    <i class="fad fa-edit GREENSEA fa-fw" aria-hidden="true"></i>
    <p>更新于：2021年12月17日</p>
  </a>
</div>

        
      
        
          <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fad fa-calendar-alt TURQUOISE fa-fw" aria-hidden="true"></i>
    <p>发布于：2021年5月14日</p>
  </a>
</div>

        
      
    </div>
  </div>


  
  

  <!-- 强制隐藏上一篇和下一篇，因为可能会暴露日记内容 -->
  
</article>


  

  <article class="post white-box reveal shadow" id="comments">
    <p ct><i class='fad fa-comments POMEGRANATE'></i> 评论</p>
    
    <div id="twikoo_container">
  <i class="fad fa-cog fa-spin fa-fw fa-2x"></i>
</div>

  </article>






</div>
<aside id='l_side'>
  
  
    
    

<section class="widget text shadow desktop">
  
  <header>
    
      <i class="fad fa-user-robot GREENSEA fa-fw" aria-hidden="true"></i><span class='name'>理想的人生</span>
    
  </header>


  <div class='content'>
    
      <p>良好的心态 💖</p>
    
      <p>平淡的生活 🌇</p>
    
      <p>和睦的家庭 👪</p>
    
      <p>伟岸的父亲 👨</p>
    
      <p>慈爱的母亲 👩</p>
    
      <p>知己的妻子 👨‍👧</p>
    
      <p>稳定的工作 🏢</p>
    
      <p>简单的同事 🌞</p>
    
      <p>有趣的朋友 🍻</p>
    
      <p>这样的自己 😇</p>
    
  </div>
</section>

  

  
    
    



  <section class="widget toc-wrapper shadow desktop mobile" id="toc-div" >
    
  <header>
    
      <i class="fad fa-list ASBESTOS fa-fw" aria-hidden="true"></i><span class='name'>本文目录</span>
    
  </header>


    <div class='content'>
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E6%8A%80%E6%9C%AF%E6%A0%88%E4%BB%A5%E5%8F%8A%E9%A1%BA%E5%BA%8F%EF%BC%9A"><span class="toc-text">完整技术栈以及顺序：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#typescript"><span class="toc-text">typescript</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#angular"><span class="toc-text">angular</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95"><span class="toc-text">基本的模板语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E7%BB%84%E4%BB%B6"><span class="toc-text">生成一个组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84%E9%80%9A%E8%AE%AF"><span class="toc-text">组件的通讯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="toc-text">组件的计算属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%B1%9E%E6%80%A7%E7%9A%84%E7%9B%91%E5%90%AC"><span class="toc-text">组件属性的监听</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84%E6%8F%92%E6%A7%BD%E7%94%A8%E6%B3%95"><span class="toc-text">组件的插槽用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%A1%E9%81%93%EF%BC%88vue-%E4%B8%AD%E7%9A%84%E8%BF%87%E6%BB%A4%E5%99%A8%EF%BC%89"><span class="toc-text">管道（vue 中的过滤器）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%EF%BC%88%E6%9A%82%E6%97%B6%E6%94%BE%E4%B8%80%E6%94%BE%EF%BC%8C%E7%94%A8%E6%B3%95%E4%B8%8D%E7%A1%AE%E5%AE%9A%EF%BC%89"><span class="toc-text">表单（暂时放一放，用法不确定）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%9F%BA%E7%A1%80"><span class="toc-text">服务基础</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%AE%9E%E4%BE%8B%E4%BB%A5%E5%8F%8A%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">服务的实例以及作用域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SPA-%E8%B7%AF%E7%94%B1-%E5%9F%BA%E7%A1%80"><span class="toc-text">SPA 路由 - 基础</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SPA-%E8%B7%AF%E7%94%B1-%E8%B7%B3%E8%BD%AC%E5%92%8C%E4%BC%A0%E5%8F%82"><span class="toc-text">SPA 路由 - 跳转和传参</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SPA-%E8%B7%AF%E7%94%B1-%E6%8E%A5%E6%94%B6%E5%8F%82%E6%95%B0"><span class="toc-text">SPA 路由 - 接收参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Http-%E8%AF%B7%E6%B1%82"><span class="toc-text">Http 请求</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ionic3"><span class="toc-text">ionic3</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%A1%A3"><span class="toc-text">文档</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7"><span class="toc-text">命令行工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">页面生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE"><span class="toc-text">全局配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%AE%9A%E4%B9%89"><span class="toc-text">路由定义</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E6%A1%A3-1"><span class="toc-text">文档</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90"><span class="toc-text">例子</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%B2%E6%9F%93%E8%B7%AF%E7%94%B1%EF%BC%88ion-nav-%E7%BB%84%E4%BB%B6%EF%BC%89"><span class="toc-text">渲染路由（ion-nav 组件）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%B3%E8%BD%AC%E9%A1%B5%E9%9D%A2%E3%80%81%E4%BC%A0%E5%8F%82"><span class="toc-text">跳转页面、传参</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E6%94%B6%E9%A1%B5%E9%9D%A2%E5%8F%82%E6%95%B0"><span class="toc-text">接收页面参数</span></a></li></ol></li></ol>
    </div>
  </section>


  


</aside>



          <!--此文件用来存放一些不方便取值的变量-->
<!--思路大概是将值藏到重加载的区域内-->

<script>
  window.pdata={}
  pdata.ispage=true;
  pdata.postTitle="👽 学习 - Ionic";
  pdata.commentPath="";
  pdata.commentPlaceholder="";
  //  see: /layout/_partial/scripts/coverCtrl.ejs
  
    // header
    var l_header=document.getElementById("l_header");
    
    l_header.classList.add("show");
    
    
  
</script>

        </div>
        
  
  <footer class="footer clearfix">
    <br><br>
    
      
        
          <div><div class="footerMax560"><p>博客内容遵循 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" data-pjax-state="">「署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0)」</a> 协议</p></div></div>
        
      
    
      
        
          <div><div class="footerMax490">本站使用 <a href="https://github.com/volantis-x/hexo-theme-volantis" target="_blank" class="codename" rel="external nofollow noopener noreferrer" data-pjax-state="">Volantis</a> 作为主题 | 通过 <a href="https://hexo.io/zh-cn/" target="_blank" class="codename" rel="external nofollow noopener noreferrer" data-pjax-state="">Hexo</a> 渲染生成</div></div>
        
      
    
      
        
      
    
      
        
          <div><div class="footerMax490">Copyright 2018 - 2021. All Rights Reserved</div></div>
        
      
    
      
        
          <div><p><a href="/">JASON</a> </p>
</div>
        
      
    
      
        
          <div><p><i class="fad fa-spider-black-widow POMEGRANATE"></i></p>
</div>
        
      
    
  </footer>


        <a id="s-top" class="fad fa-arrow-up fa-fw" href="javascript:void(0)"></a>
      </div>
    </div>
    <div>
      <script>
  /************这个文件存放不需要重载的全局变量和全局函数*********/
  window.volantis = {}; // volantis 全局变量
  volantis.$ = {}; // 页面选择器 将jQuery对象缓存起来 see: /source/js/app.js etc.
  /******************** RunItem ********************************/
  function RunItem() {
    this.list = []; // 存放回调函数
    this.start = () => {
      for (var i = 0; i < this.list.length; i++) {
        this.list[i].run();
      }
    };
    this.push = (fn, name) => {
      var f = new Item(fn, name);
      this.list.push(f);
    };
    // 构造一个可以run的对象
    function Item(fn, name) {
      // 函数名称
      this.name = name || fn.name;
      // run方法
      this.run = () => {
        try {
          fn();
        } catch (error) {
          console.log(error);
        }
      };
    }
  }
  /******************** Pjax ********************************/
  // /layout/_third-party/pjax/index.ejs
  // volantis.pjax.send(callBack[,"callBackName"]) 传入pjax:send回调函数
  // volantis.pjax.push(callBack[,"callBackName"]) 传入pjax:complete回调函数
  // volantis.pjax.error(callBack[,"callBackName"]) 传入pjax:error回调函数
  volantis.pjax = {};
  volantis.pjax.method = {
    complete: new RunItem(),
    error: new RunItem(),
    send: new RunItem(),
  };
  volantis.pjax = {
    ...volantis.pjax,
    push: volantis.pjax.method.complete.push,
    error: volantis.pjax.method.error.push,
    send: volantis.pjax.method.send.push,
  };
  /********************  Dark Mode  ********************************/
  // /layout/_partial/scripts/darkmode.ejs
  // volantis.dark.mode 当前模式 dark or light
  // volantis.dark.toggle() 暗黑模式触发器
  // volantis.dark.push(callBack[,"callBackName"]) 传入触发器回调函数
  volantis.dark = {};
  volantis.dark.method = {
    toggle: new RunItem(),
  };
  volantis.dark = {
    ...volantis.dark,
    push: volantis.dark.method.toggle.push,
  };
  /********************  Message  ********************************/
  // /layout/_third-party/message/script.ejs
  // volantis.message(title,message,type,autoClose)
  /********************  isMobile  ********************************/
  // /source/js/app.js
  // volantis.isMobile
  // volantis.isMobileOld
  /********************脚本懒加载函数********************************/
  // volantis.js(src, cb)  cb 可以传入onload回调函数 或者 JSON对象 例如: volantis.js("src", ()=>{}) 或 volantis.js("src", {defer:true,onload:()=>{}})
  // volantis.css(src)

  // 返回Promise对象，如下方法同步加载资源，这利于处理文件资源之间的依赖关系，例如：APlayer 需要在 MetingJS 之前加载
  // (async () => {
  //     await volantis.js("...theme.plugins.aplayer.js.aplayer...")
  //     await volantis.js("...theme.plugins.aplayer.js.meting...")
  // })();

  // 已经加入了setTimeout
  volantis.js = (src, cb) => {
    return new Promise(resolve => {
      setTimeout(function () {
        var HEAD = document.getElementsByTagName("head")[0] || document.documentElement;
        var script = document.createElement("script");
        script.setAttribute("type", "text/javascript");
        if (cb) {
          if (JSON.stringify(cb)) {
            for (let p in cb) {
              if(p=="onload"){
                script[p]=()=>{
                  cb[p]()
                  resolve()
                }
              }else{
                script[p]=cb[p]
              }
            }
          } else {
            script.onload = ()=>{
              cb()
              resolve()
            };
          }
        }else{
          script.onload=resolve
        }
        script.setAttribute("src", src);
        HEAD.appendChild(script);
      });
    });
  }
  volantis.css = (src)=>{
    return new Promise(resolve => {
      setTimeout(function () {
        var link = document.createElement('link');
        link.rel = "stylesheet";
        link.href = src;
        link.onload = resolve;
        document.getElementsByTagName("head")[0].appendChild(link);
      });
    });
  }
</script>

<script>
  
  volantis.css("/blog/assets/fonts/fontawesome/css/all.min.css");
  
  
  
  
  volantis.css("https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10/build/styles/solarized-light.min.css");
  
</script>
<!-- required -->

<script src="https://cdn.jsdelivr.net/npm/jquery@3.5/dist/jquery.min.js"></script>


<!-- internal -->





<!-- rightmenu要在darkmode之前（ToggleButton） darkmode要在comments之前（volantis.dark.push）-->

  <script>
const rootElement = document.documentElement;
const darkModeStorageKey = "user-color-scheme";
const rootElementDarkModeAttributeName = "data-user-color-scheme";
const setLS = (k, v) => {
    localStorage.setItem(k, v);
};
const removeLS = (k) => {
    localStorage.removeItem(k);
};
const getLS = (k) => {
    return localStorage.getItem(k);
};
const getModeFromCSSMediaQuery = () => {
  return window.matchMedia("(prefers-color-scheme: dark)").matches
    ? "dark"
    : "light";
};
const resetRootDarkModeAttributeAndLS = () => {
  rootElement.removeAttribute(rootElementDarkModeAttributeName);
  removeLS(darkModeStorageKey);
};
const validColorModeKeys = {
  dark: true,
  light: true,
};
const applyCustomDarkModeSettings = (mode) => {
  const currentSetting = mode || getLS(darkModeStorageKey);
  getCustomDarkMode();
  if (currentSetting === getModeFromCSSMediaQuery()) {
    resetRootDarkModeAttributeAndLS();
  } else if (validColorModeKeys[currentSetting]) {
    rootElement.setAttribute(rootElementDarkModeAttributeName, currentSetting);
  } else {
    resetRootDarkModeAttributeAndLS();
  }
};
const invertDarkModeObj = {
  dark: "light",
  light: "dark",
};
/**
 * get target mode
 */
 const getCustomDarkMode = () => {
  let currentSetting = getLS(darkModeStorageKey);
  if (validColorModeKeys[currentSetting]) {
    currentSetting = invertDarkModeObj[currentSetting];
  } else if (currentSetting === null) {
    currentSetting = invertDarkModeObj[getModeFromCSSMediaQuery()];
  } else {
    return;
  }
  if(currentSetting=="dark"){
    volantis.dark.mode="light";
  }else{
    volantis.dark.mode="dark";
  }
  // console.log(volantis.dark.mode)
};
const toggleCustomDarkMode = () => {
  let currentSetting = getLS(darkModeStorageKey);
  if (validColorModeKeys[currentSetting]) {
    currentSetting = invertDarkModeObj[currentSetting];
  } else if (currentSetting === null) {
    currentSetting = invertDarkModeObj[getModeFromCSSMediaQuery()];
  } else {
    return;
  }
  setLS(darkModeStorageKey, currentSetting);
  return currentSetting;
};
/**
 * 暗黑模式触发器
 */
volantis.dark.toggle=()=>{
  const mode = toggleCustomDarkMode();
  applyCustomDarkModeSettings(mode);
  // 使用 volantis.dark.push 方法传入volantis.dark.toggle回调函数 参见layout/_partial/scripts/global.ejs
  volantis.dark.method.toggle.start();
}
/**
 * bind event for toggle button
 */
var btn=$(".toggle-mode-btn","#wrapper,#rightmenu-wrapper");
function bindToggleButton() {
    btn.on('click',volantis.dark.toggle);
}
applyCustomDarkModeSettings();
document.addEventListener("DOMContentLoaded", bindToggleButton);
volantis.pjax.push(bindToggleButton);
volantis.pjax.send(()=>{
	btn.unbind('click');
},'toggle-mode-btn-unbind');
</script>



<script>
  function loadIssuesJS() {
    
      const sites_api = document.getElementById('sites-api');
      if (sites_api != undefined && typeof SitesJS === 'undefined') {
        volantis.js("/blog/js/plugins/sites.js")
      }
    
    
      const friends_api = document.getElementById('friends-api');
      if (friends_api != undefined && typeof FriendsJS === 'undefined') {
        volantis.js("/blog/js/plugins/friends.js")
      }
    
    
      const contributors_api = document.getElementById('contributors-api');
      if (contributors_api != undefined && typeof ContributorsJS === 'undefined') {
        volantis.js("/blog/js/plugins/contributors.js")
      }
    
  };
  $(function () {
    loadIssuesJS();
  });
  volantis.pjax.push(()=>{
    loadIssuesJS();
  })

</script>







  <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
    var clipboard = new ClipboardJS('.btn-copy', {
        target: function (trigger) {
            return trigger.nextElementSibling
        }
    });
    function wait(callback, seconds) {
        var timelag = null;
        timelag = window.setTimeout(callback, seconds)
    }
    function pjax_initCopyCode() {
		if($(".highlight .code pre").length+$(".article pre code").length==0)return;
        var copyHtml = '';
        copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
        copyHtml += '<i class="fad fa-copy"></i><span>COPY</span>';
        copyHtml += '</button>';
        $(".highlight .code pre").before(copyHtml);
        $(".article pre code").before(copyHtml);
        clipboard.off('success').on('success', function (e) {
            let $btn = $(e.trigger);
            $btn.addClass('copied');
            let $icon = $($btn.find('i'));
            $icon.removeClass('fa-copy');
            $icon.addClass('fa-check-circle');
            let $span = $($btn.find('span'));
            $span[0].innerText = 'COPIED';
            wait(function () {
                $icon.removeClass('fa-check-circle');
                $icon.addClass('fa-copy');
                $span[0].innerText = 'COPY'
            }, 2000)
        });
        clipboard.off('error').on('error', function (e) {
            e.clearSelection();
            let $btn = $(e.trigger);
            $btn.addClass('copy-failed');
            let $icon = $($btn.find('i'));
            $icon.removeClass('fa-copy');
            $icon.addClass('fa-times-circle');
            let $span = $($btn.find('span'));
            $span[0].innerText = 'COPY FAILED';
            wait(function () {
                $icon.removeClass('fa-times-circle');
                $icon.addClass('fa-copy');
                $span[0].innerText = 'COPY'
            }, 2000)
        })
    }
    $(function () {
        pjax_initCopyCode()
    });
	volantis.pjax.push(pjax_initCopyCode)
</script>






  <script>
    volantis.APlayerController = {};
    volantis.APlayerController.id = '7716882294';  // 设定全局音乐播放ID
    volantis.APlayerController.volume = '0.7';
    volantis.css("https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css");
    // APlayer 需要在  MetingJS 之前加载
    (async () => {
      await volantis.js("https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.js")
      await volantis.js("https://cdn.jsdelivr.net/npm/meting@2.0/dist/Meting.min.js")

      
    })();
  // message see: /layout/_third-party/message/script.ejs
  
    var checkMetings = setInterval(function() {
    if (!document.querySelectorAll('meting-js')[0].aplayer) return;
    if (!document.querySelectorAll('meting-js')[0].aplayer.on) return;
    clearInterval(checkMetings);
    try {
      var Metings = document.querySelectorAll('meting-js');
      Metings.forEach((item, index) => {
        var rightMenuAplayer = $(item)[0].meta.id === volantis.APlayerController.id && volantis.APlayerController.music;
        if(rightMenuAplayer)  MainAPlayer.checkAPlayer();
        var thisAplayer =Metings[index].aplayer;
        thisAplayer.on('play', function(e) {
        $('#aplayerHeaderIcon').removeClass('music').addClass('music')
        var index = thisAplayer.list.index;
        var title = thisAplayer.list.audios[index].title;
        var artist = thisAplayer.list.audios[index].artist;
          volantis.message(
            '音乐通知',
            '正在播放：' + title + ' - ' + artist,
            'info'
          )
          if(rightMenuAplayer) volantis.APlayerController.status = 'play';
        });
        thisAplayer.on('pause', function(e) {
          $('#aplayerHeaderIcon').removeClass('music')
          var index =thisAplayer.list.index;
          var title = thisAplayer.list.audios[index].title;
          var artist = thisAplayer.list.audios[index].artist;
          volantis.message(
            '音乐通知',
            '暂停播放：' + title + ' - ' + artist,
            'info'
          )
          if(rightMenuAplayer) volantis.APlayerController.status = 'pause';
        });
        thisAplayer.on('error', function (e) {
          $('#aplayerHeaderIcon').removeClass('music')
          var index = thisAplayer.list.index;
          var title = thisAplayer.list.audios[index].title;
          volantis.message(
            '音乐通知',
            "歌曲：" + title + "加载失败~",
            'warning'
          )
          if(rightMenuAplayer) volantis.APlayerController.status = 'error';
        });
      });

    } catch (error) {

    }
  }, 100);
  
</script>




  <script>
  function load_twikoo() {
	  volantis.js("https://cdn.jsdelivr.net/npm/twikoo@1.3.0", pjax_twikoo)
  }
  function pjax_twikoo() {
    if(!document.querySelectorAll("#twikoo_container")[0])return;
    let path = pdata.commentPath;
    if (path.length == 0) {
      let defaultPath = '';
      path = defaultPath || "decodeURI(window.location.pathname)"; //神奇的pathname
    }
    twikoo.init(Object.assign({"js":"https://cdn.jsdelivr.net/npm/twikoo@1.3.0","path":null,"envId":"blog-7geg9ey7e0cea91c"}, {
	  el: '#twikoo_container',
	  path: path,
    }))
  }
  $(function () {
    if(!document.querySelectorAll("#twikoo_container")[0])return;
    load_twikoo();
  });
   volantis.pjax.push(()=>{
	  if (typeof twikoo == "undefined") {
		load_twikoo();
	  } else {
		pjax_twikoo();
	  }
   },'twikoo');
</script>





<script src="/blog/js/app.js"></script>


<!-- optional -->

  <script>
const SearchServiceimagePath="https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@master/img/";
const ROOT =  ("/blog/" || "/").endsWith('/') ? ("/blog/" || "/") : ("/blog//" || "/" );

$('.input.u-search-input').one('focus',function(){
  // see: layout/_partial/scripts/cdnCtrl.ejs
	volantis.js('/blog/js/search/hexo.js',setSearchService);
})

function listenSearch(){
  
    customSearch = new HexoSearch({
      imagePath: SearchServiceimagePath
    });
  
}
function setSearchService() {
	listenSearch();
	
		document.addEventListener("pjax:success", listenSearch);
	
}
</script>







  
<script src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@2/js/comment_typing.js"></script>




  

<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10/build/highlight.min.js"></script>

<script>hljs.initHighlightingOnLoad();</script>

<script>
volantis.pjax.push(()=>{
	document.querySelectorAll('pre code').forEach((block) => {
	  hljs.highlightBlock(block);
	});
},"highlightjs")
</script>












<script>
  volantis.message = (title, message, type, autoClose, time = 3000) => {
    if (typeof $.message == "undefined") {
      volantis.css('/blog/css/message.css')
      volantis.js('/blog/js/message.js', () => {
        start(title, message, type, autoClose, time);
      });
    } else {
      start(title, message, type, autoClose, time);
    }
    function start(title, message, type, autoClose, time) {
      $.message({
        title: title,
        message: message,
        type: type,
        autoClose: autoClose,
        time: time,
      });
    }
  };
</script>


<pjax>

</pjax>

<pjax>

</pjax>

<script>
function listennSidebarTOC() {
  const navItems = document.querySelectorAll(".toc li");
  if (!navItems.length) return;
  const sections = [...navItems].map((element) => {
    const link = element.querySelector(".toc-link");
    const target = document.getElementById(
      decodeURI(link.getAttribute("href")).replace("#", "")
    );
    link.addEventListener("click", (event) => {
      event.preventDefault();
      window.scrollTo({
        top: target.offsetTop + document.getElementById("safearea").offsetTop + 5,
        
          behavior: "smooth"
        
	    });
    });
    return target;
  });

  function activateNavByIndex(target) {
    if (target.classList.contains("active-current")) return;

    document.querySelectorAll(".toc .active").forEach((element) => {
      element.classList.remove("active", "active-current");
    });
    target.classList.add("active", "active-current");
    let parent = target.parentNode;
    while (!parent.matches(".toc")) {
      if (parent.matches("li")) parent.classList.add("active");
      parent = parent.parentNode;
    }
  }

  function findIndex(entries) {
    let index = 0;
    let entry = entries[index];
    if (entry.boundingClientRect.top > 0) {
      index = sections.indexOf(entry.target);
      return index === 0 ? 0 : index - 1;
    }
    for (; index < entries.length; index++) {
      if (entries[index].boundingClientRect.top <= 0) {
        entry = entries[index];
      } else {
        return sections.indexOf(entry.target);
      }
    }
    return sections.indexOf(entry.target);
  }

  function createIntersectionObserver(marginTop) {
    marginTop = Math.floor(marginTop + 10000);
    let intersectionObserver = new IntersectionObserver(
      (entries, observe) => {
        let scrollHeight = document.documentElement.scrollHeight + document.getElementById("safearea").offsetTop + 5;
        if (scrollHeight > marginTop) {
          observe.disconnect();
          createIntersectionObserver(scrollHeight);
          return;
        }
        let index = findIndex(entries);
        activateNavByIndex(navItems[index]);
      },
      {
        rootMargin: marginTop + "px 0px -100% 0px",
        threshold: 0,
      }
    );
    sections.forEach((element) => {
      element && intersectionObserver.observe(element);
    });
  }
  createIntersectionObserver(document.documentElement.scrollHeight);
}

document.addEventListener("DOMContentLoaded", listennSidebarTOC);
document.addEventListener("pjax:success", listennSidebarTOC);
</script>


<script src="/blog/js/iconfont-inkss.js"></script>



<script src="/blog/js/iconfont-emoji.js"></script>



<script src="/blog/js/crypto-js.min.js"></script>


<!-- more -->

  
  <script src="https://cdn.bootcdn.net/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>

  <script src="https://cdn.bootcdn.net/ajax/libs/moment.js/2.29.1/moment.js"></script>

  <script src="https://cdn.bootcdn.net/ajax/libs/moment.js/2.29.1/locale/zh-cn.min.js"></script>

  <script src="https://cdn.bootcdn.net/ajax/libs/qs/6.10.1/qs.min.js"></script>




       <!-- 
  pjax重载区域接口：
  1.  <pjax></pjax> 标签
  2.  script[data-pjax]
  3.  .pjax-reload script
-->



<script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script>


<!-- 样式位于：source/css/_third-party/pjaxanimate.styl -->

<div class="pjax-animate">
  
    <script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>
    <div id="loading-bar-wrapper"><script>NProgress.configure({parent:"#loading-bar-wrapper",trickleSpeed: 100})</script></div>
    <script>
      window.ShowLoading = function() {
        NProgress.start();
      };
      window.HideLoading = function() {
        NProgress.done();
      }
    </script>
  
	<script>
		volantis.pjax.push(window.HideLoading,'HideLoading');
		volantis.pjax.send(window.ShowLoading,'ShowLoading');
		volantis.pjax.error(window.HideLoading,'HideLoading');
	</script>
</div>


<script>
    var pjax;
    document.addEventListener('DOMContentLoaded', function () {
      pjax = new Pjax({
        elements: 'a[href]:not([href^="#"]):not([href="javascript:void(0)"]):not([pjax-fancybox])',
        selectors: [
          "title",
          "pjax",
          "#l_cover",
          "#pjax-container",
          "#pjax-header-nav-list"
        ],
        cacheBust: false,   // url 地址追加时间戳，用以避免浏览器缓存
        timeout: 5000
      });
    });

    document.addEventListener('pjax:send', function (e) {
      //window.stop(); // 相当于点击了浏览器的停止按钮

      try {
        var currentUrl = window.location.pathname;
        var targetUrl = e.triggerElement.href;
        var banUrl = [""];
        if (banUrl[0] != "") {
          banUrl.forEach(item => {
            if(currentUrl.indexOf(item) != -1 || targetUrl.indexOf(item) != -1) {
              window.location.href = targetUrl;
            }
          });
        }
      } catch (error) {}

      // 解绑事件 避免重复监听
      // ====================================================================================
      // 这一段代码必须先执行，不可以放到其他位置 【放到app.js中测试，跳转页面时不会关闭二级导航】
      volantis.$.switcher.removeClass('active'); // 关闭移动端激活的搜索框
      volantis.$.header.removeClass('z_search-open'); // 关闭移动端激活的搜索框
      volantis.$.wrapper.removeClass('sub'); // 跳转页面时关闭二级导航
      volantis.$.topBtn.unbind('click');
      $('.menu a','#l_header,#l_cover').unbind('click');
      $(window).unbind('resize');
      $(window).unbind('scroll');
      $(document).unbind('scroll');
      $(document).unbind('click');
      $('body').unbind('click');
      // ====================================================================================

      // 使用 volantis.pjax.send 方法传入pjax:send回调函数 参见layout/_partial/scripts/global.ejs
      volantis.pjax.method.send.start();
    });

    document.addEventListener('pjax:complete', function () {
      // script标签添加data-pjax 或 script标签外层添加.pjax-reload 的script代码段重载
      $('script[data-pjax], .pjax-reload script').each(function () {
        $(this).parent().append($(this).remove());
      });
      // 使用 volantis.pjax.push 方法传入重载函数 参见layout/_partial/scripts/global.ejs
      volantis.pjax.method.complete.start();
    });

    document.addEventListener('pjax:error', function (e) {
      // 使用 volantis.pjax.error 方法传入pjax:error回调函数 参见layout/_partial/scripts/global.ejs
      volantis.pjax.method.error.start();
      window.location.href = e.triggerElement.href;
    });
</script>
 
    </div>
    <div id="BKG"></div>
  </body>
</html>
